(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ih(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var cc={exports:{}},bi={},dc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),oh=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),ah=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),ch=Symbol.for("react.provider"),dh=Symbol.for("react.context"),fh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.memo"),gh=Symbol.for("react.lazy"),Ia=Symbol.iterator;function mh(t){return t===null||typeof t!="object"?null:(t=Ia&&t[Ia]||t["@@iterator"],typeof t=="function"?t:null)}var fc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hc=Object.assign,pc={};function dr(t,e,n){this.props=t,this.context=e,this.refs=pc,this.updater=n||fc}dr.prototype.isReactComponent={};dr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gc(){}gc.prototype=dr.prototype;function Al(t,e,n){this.props=t,this.context=e,this.refs=pc,this.updater=n||fc}var Il=Al.prototype=new gc;Il.constructor=Al;hc(Il,dr.prototype);Il.isPureReactComponent=!0;var Na=Array.isArray,mc=Object.prototype.hasOwnProperty,Nl={current:null},vc={key:!0,ref:!0,__self:!0,__source:!0};function yc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mc.call(e,r)&&!vc.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:as,type:t,key:i,ref:o,props:s,_owner:Nl.current}}function vh(t,e){return{$$typeof:as,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ll(t){return typeof t=="object"&&t!==null&&t.$$typeof===as}function yh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var La=/\/+/g;function Ki(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yh(""+t.key):e.toString(36)}function zs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case as:case oh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ki(o,0):r,Na(s)?(n="",t!=null&&(n=t.replace(La,"$&/")+"/"),zs(s,e,n,"",function(u){return u})):s!=null&&(Ll(s)&&(s=vh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(La,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Na(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Ki(i,l);o+=zs(i,e,n,a,s)}else if(a=mh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Ki(i,l++),o+=zs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ms(t,e,n){if(t==null)return t;var r=[],s=0;return zs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function wh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $e={current:null},Ms={transition:null},_h={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:Nl};function wc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ms,forEach:function(t,e,n){ms(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ms(t,function(){e++}),e},toArray:function(t){return ms(t,function(e){return e})||[]},only:function(t){if(!Ll(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=dr;W.Fragment=lh;W.Profiler=uh;W.PureComponent=Al;W.StrictMode=ah;W.Suspense=hh;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_h;W.act=wc;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)mc.call(e,a)&&!vc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:as,type:t.type,key:s,ref:i,props:r,_owner:o}};W.createContext=function(t){return t={$$typeof:dh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ch,_context:t},t.Consumer=t};W.createElement=yc;W.createFactory=function(t){var e=yc.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:fh,render:t}};W.isValidElement=Ll;W.lazy=function(t){return{$$typeof:gh,_payload:{_status:-1,_result:t},_init:wh}};W.memo=function(t,e){return{$$typeof:ph,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Ms.transition;Ms.transition={};try{t()}finally{Ms.transition=e}};W.unstable_act=wc;W.useCallback=function(t,e){return $e.current.useCallback(t,e)};W.useContext=function(t){return $e.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return $e.current.useDeferredValue(t)};W.useEffect=function(t,e){return $e.current.useEffect(t,e)};W.useId=function(){return $e.current.useId()};W.useImperativeHandle=function(t,e,n){return $e.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return $e.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return $e.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return $e.current.useMemo(t,e)};W.useReducer=function(t,e,n){return $e.current.useReducer(t,e,n)};W.useRef=function(t){return $e.current.useRef(t)};W.useState=function(t){return $e.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return $e.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return $e.current.useTransition()};W.version="18.3.1";dc.exports=W;var x=dc.exports;const Sh=sh(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=x,Eh=Symbol.for("react.element"),Ch=Symbol.for("react.fragment"),Th=Object.prototype.hasOwnProperty,bh=kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xh={key:!0,ref:!0,__self:!0,__source:!0};function _c(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Th.call(e,r)&&!xh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Eh,type:t,key:i,ref:o,props:s,_owner:bh.current}}bi.Fragment=Ch;bi.jsx=_c;bi.jsxs=_c;cc.exports=bi;var _=cc.exports,Sc={exports:{}},Xe={},kc={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,U){var F=P.length;P.push(U);e:for(;0<F;){var ee=F-1>>>1,ue=P[ee];if(0<s(ue,U))P[ee]=U,P[F]=ue,F=ee;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var U=P[0],F=P.pop();if(F!==U){P[0]=F;e:for(var ee=0,ue=P.length,R=ue>>>1;ee<R;){var N=2*(ee+1)-1,$=P[N],H=N+1,he=P[H];if(0>s($,F))H<ue&&0>s(he,$)?(P[ee]=he,P[H]=F,ee=H):(P[ee]=$,P[N]=F,ee=N);else if(H<ue&&0>s(he,F))P[ee]=he,P[H]=F,ee=H;else break e}}return U}function s(P,U){var F=P.sortIndex-U.sortIndex;return F!==0?F:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,h=3,m=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=P)r(u),U.sortIndex=U.expirationTime,e(a,U);else break;U=n(u)}}function w(P){if(v=!1,g(P),!y)if(n(a)!==null)y=!0,tt(T);else{var U=n(u);U!==null&&nt(w,U.startTime-P)}}function T(P,U){y=!1,v&&(v=!1,p(j),j=-1),m=!0;var F=h;try{for(g(U),d=n(a);d!==null&&(!(d.expirationTime>U)||P&&!Ae());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var ue=ee(d.expirationTime<=U);U=t.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(a)&&r(a),g(U)}else r(a);d=n(a)}if(d!==null)var R=!0;else{var N=n(u);N!==null&&nt(w,N.startTime-U),R=!1}return R}finally{d=null,h=F,m=!1}}var k=!1,E=null,j=-1,B=5,z=-1;function Ae(){return!(t.unstable_now()-z<B)}function Ie(){if(E!==null){var P=t.unstable_now();z=P;var U=!0;try{U=E(!0,P)}finally{U?De():(k=!1,E=null)}}else k=!1}var De;if(typeof f=="function")De=function(){f(Ie)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,et=Tt.port2;Tt.port1.onmessage=Ie,De=function(){et.postMessage(null)}}else De=function(){S(Ie,0)};function tt(P){E=P,k||(k=!0,De())}function nt(P,U){j=S(function(){P(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,tt(T))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var F=h;h=U;try{return P()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=h;h=P;try{return U()}finally{h=F}},t.unstable_scheduleCallback=function(P,U,F){var ee=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,P){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=F+ue,P={id:c++,callback:U,priorityLevel:P,startTime:F,expirationTime:ue,sortIndex:-1},F>ee?(P.sortIndex=F,e(u,P),n(a)===null&&P===n(u)&&(v?(p(j),j=-1):v=!0,nt(w,F-ee))):(P.sortIndex=ue,e(a,P),y||m||(y=!0,tt(T))),P},t.unstable_shouldYield=Ae,t.unstable_wrapCallback=function(P){var U=h;return function(){var F=h;h=U;try{return P.apply(this,arguments)}finally{h=F}}}})(Ec);kc.exports=Ec;var Oh=kc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh=x,Ye=Oh;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cc=new Set,Wr={};function bn(t,e){rr(t,e),rr(t+"Capture",e)}function rr(t,e){for(Wr[t]=e,t=0;t<e.length;t++)Cc.add(e[t])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=Object.prototype.hasOwnProperty,Ph=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$a={},Ua={};function Rh(t){return jo.call(Ua,t)?!0:jo.call($a,t)?!1:Ph.test(t)?Ua[t]=!0:($a[t]=!0,!1)}function Ah(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ih(t,e,n,r){if(e===null||typeof e>"u"||Ah(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var $l=/[\-:]([a-z])/g;function Ul(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($l,Ul);be[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($l,Ul);be[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($l,Ul);be[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dl(t,e,n,r){var s=be.hasOwnProperty(e)?be[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ih(e,n,s,r)&&(n=null),r||s===null?Rh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $t=jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),zl=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),Tc=Symbol.for("react.provider"),bc=Symbol.for("react.context"),Ml=Symbol.for("react.forward_ref"),Ro=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),Fl=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),xc=Symbol.for("react.offscreen"),Da=Symbol.iterator;function vr(t){return t===null||typeof t!="object"?null:(t=Da&&t[Da]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,Gi;function br(t){if(Gi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gi=e&&e[1]||""}return`
`+Gi+t}var Ji=!1;function Qi(t,e){if(!t||Ji)return"";Ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ji=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?br(t):""}function Nh(t){switch(t.tag){case 5:return br(t.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 2:case 15:return t=Qi(t.type,!1),t;case 11:return t=Qi(t.type.render,!1),t;case 1:return t=Qi(t.type,!0),t;default:return""}}function Io(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zn:return"Fragment";case Dn:return"Portal";case Po:return"Profiler";case zl:return"StrictMode";case Ro:return"Suspense";case Ao:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bc:return(t.displayName||"Context")+".Consumer";case Tc:return(t._context.displayName||"Context")+".Provider";case Ml:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fl:return e=t.displayName||null,e!==null?e:Io(t.type)||"Memo";case Mt:e=t._payload,t=t._init;try{return Io(t(e))}catch{}}return null}function Lh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Io(e);case 8:return e===zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $h(t){var e=Oc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ys(t){t._valueTracker||(t._valueTracker=$h(t))}function jc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Oc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function No(t,e){var n=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function za(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pc(t,e){e=e.checked,e!=null&&Dl(t,"checked",e,!1)}function Lo(t,e){Pc(t,e);var n=tn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$o(t,e.type,n):e.hasOwnProperty("defaultValue")&&$o(t,e.type,tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ma(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $o(t,e,n){(e!=="number"||Ys(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xr=Array.isArray;function Qn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Uo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(xr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tn(n)}}function Rc(t,e){var n=tn(e.value),r=tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ba(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ac(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Do(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ac(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ws,Ic=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ws.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uh=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(t){Uh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rr[e]=Rr[t]})});function Nc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rr.hasOwnProperty(t)&&Rr[t]?(""+e).trim():e+"px"}function Lc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Dh=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zo(t,e){if(e){if(Dh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Mo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function Bl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bo=null,Yn=null,Xn=null;function Wa(t){if(t=ds(t)){if(typeof Bo!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Ri(e),Bo(t.stateNode,t.type,e))}}function $c(t){Yn?Xn?Xn.push(t):Xn=[t]:Yn=t}function Uc(){if(Yn){var t=Yn,e=Xn;if(Xn=Yn=null,Wa(t),e)for(t=0;t<e.length;t++)Wa(e[t])}}function Dc(t,e){return t(e)}function zc(){}var Yi=!1;function Mc(t,e,n){if(Yi)return t(e,n);Yi=!0;try{return Dc(t,e,n)}finally{Yi=!1,(Yn!==null||Xn!==null)&&(zc(),Uc())}}function Vr(t,e){var n=t.stateNode;if(n===null)return null;var r=Ri(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Wo=!1;if(At)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Wo=!1}function zh(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ar=!1,Xs=null,Zs=!1,Ho=null,Mh={onError:function(t){Ar=!0,Xs=t}};function Fh(t,e,n,r,s,i,o,l,a){Ar=!1,Xs=null,zh.apply(Mh,arguments)}function Bh(t,e,n,r,s,i,o,l,a){if(Fh.apply(this,arguments),Ar){if(Ar){var u=Xs;Ar=!1,Xs=null}else throw Error(C(198));Zs||(Zs=!0,Ho=u)}}function xn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ha(t){if(xn(t)!==t)throw Error(C(188))}function Wh(t){var e=t.alternate;if(!e){if(e=xn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ha(s),t;if(i===r)return Ha(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Bc(t){return t=Wh(t),t!==null?Wc(t):null}function Wc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wc(t);if(e!==null)return e;t=t.sibling}return null}var Hc=Ye.unstable_scheduleCallback,Va=Ye.unstable_cancelCallback,Hh=Ye.unstable_shouldYield,Vh=Ye.unstable_requestPaint,fe=Ye.unstable_now,qh=Ye.unstable_getCurrentPriorityLevel,Wl=Ye.unstable_ImmediatePriority,Vc=Ye.unstable_UserBlockingPriority,ei=Ye.unstable_NormalPriority,Kh=Ye.unstable_LowPriority,qc=Ye.unstable_IdlePriority,xi=null,Et=null;function Gh(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Yh,Jh=Math.log,Qh=Math.LN2;function Yh(t){return t>>>=0,t===0?32:31-(Jh(t)/Qh|0)|0}var _s=64,Ss=4194304;function Or(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ti(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Or(l):(i&=o,i!==0&&(r=Or(i)))}else o=n&~s,o!==0?r=Or(o):i!==0&&(r=Or(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mt(e),s=1<<n,r|=t[n],e&=~s;return r}function Xh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-mt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Xh(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Vo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kc(){var t=_s;return _s<<=1,!(_s&4194240)&&(_s=64),t}function Xi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function us(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=n}function ep(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-mt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Q=0;function Gc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jc,Vl,Qc,Yc,Xc,qo=!1,ks=[],Kt=null,Gt=null,Jt=null,qr=new Map,Kr=new Map,Bt=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qa(t,e){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":qr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(e.pointerId)}}function wr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ds(e),e!==null&&Vl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function np(t,e,n,r,s){switch(e){case"focusin":return Kt=wr(Kt,t,e,n,r,s),!0;case"dragenter":return Gt=wr(Gt,t,e,n,r,s),!0;case"mouseover":return Jt=wr(Jt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,wr(qr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Kr.set(i,wr(Kr.get(i)||null,t,e,n,r,s)),!0}return!1}function Zc(t){var e=gn(t.target);if(e!==null){var n=xn(e);if(n!==null){if(e=n.tag,e===13){if(e=Fc(n),e!==null){t.blockedOn=e,Xc(t.priority,function(){Qc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ko(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fo=r,n.target.dispatchEvent(r),Fo=null}else return e=ds(n),e!==null&&Vl(e),t.blockedOn=n,!1;e.shift()}return!0}function Ka(t,e,n){Fs(t)&&n.delete(e)}function rp(){qo=!1,Kt!==null&&Fs(Kt)&&(Kt=null),Gt!==null&&Fs(Gt)&&(Gt=null),Jt!==null&&Fs(Jt)&&(Jt=null),qr.forEach(Ka),Kr.forEach(Ka)}function _r(t,e){t.blockedOn===e&&(t.blockedOn=null,qo||(qo=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,rp)))}function Gr(t){function e(s){return _r(s,t)}if(0<ks.length){_r(ks[0],t);for(var n=1;n<ks.length;n++){var r=ks[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kt!==null&&_r(Kt,t),Gt!==null&&_r(Gt,t),Jt!==null&&_r(Jt,t),qr.forEach(e),Kr.forEach(e),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)Zc(n),n.blockedOn===null&&Bt.shift()}var Zn=$t.ReactCurrentBatchConfig,ni=!0;function sp(t,e,n,r){var s=Q,i=Zn.transition;Zn.transition=null;try{Q=1,ql(t,e,n,r)}finally{Q=s,Zn.transition=i}}function ip(t,e,n,r){var s=Q,i=Zn.transition;Zn.transition=null;try{Q=4,ql(t,e,n,r)}finally{Q=s,Zn.transition=i}}function ql(t,e,n,r){if(ni){var s=Ko(t,e,n,r);if(s===null)ao(t,e,r,ri,n),qa(t,r);else if(np(s,t,e,n,r))r.stopPropagation();else if(qa(t,r),e&4&&-1<tp.indexOf(t)){for(;s!==null;){var i=ds(s);if(i!==null&&Jc(i),i=Ko(t,e,n,r),i===null&&ao(t,e,r,ri,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ao(t,e,r,null,n)}}var ri=null;function Ko(t,e,n,r){if(ri=null,t=Bl(r),t=gn(t),t!==null)if(e=xn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ri=t,null}function ed(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qh()){case Wl:return 1;case Vc:return 4;case ei:case Kh:return 16;case qc:return 536870912;default:return 16}default:return 16}}var Vt=null,Kl=null,Bs=null;function td(){if(Bs)return Bs;var t,e=Kl,n=e.length,r,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Bs=s.slice(t,1<r?1-r:void 0)}function Ws(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function Ga(){return!1}function Ze(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Es:Ga,this.isPropagationStopped=Ga,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),e}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Ze(fr),cs=ae({},fr,{view:0,detail:0}),op=Ze(cs),Zi,eo,Sr,Oi=ae({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sr&&(Sr&&t.type==="mousemove"?(Zi=t.screenX-Sr.screenX,eo=t.screenY-Sr.screenY):eo=Zi=0,Sr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:eo}}),Ja=Ze(Oi),lp=ae({},Oi,{dataTransfer:0}),ap=Ze(lp),up=ae({},cs,{relatedTarget:0}),to=Ze(up),cp=ae({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=Ze(cp),fp=ae({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hp=Ze(fp),pp=ae({},fr,{data:0}),Qa=Ze(pp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vp[t])?!!e[t]:!1}function Jl(){return yp}var wp=ae({},cs,{key:function(t){if(t.key){var e=gp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_p=Ze(wp),Sp=ae({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ya=Ze(Sp),kp=ae({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),Ep=Ze(kp),Cp=ae({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tp=Ze(Cp),bp=ae({},Oi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xp=Ze(bp),Op=[9,13,27,32],Ql=At&&"CompositionEvent"in window,Ir=null;At&&"documentMode"in document&&(Ir=document.documentMode);var jp=At&&"TextEvent"in window&&!Ir,nd=At&&(!Ql||Ir&&8<Ir&&11>=Ir),Xa=" ",Za=!1;function rd(t,e){switch(t){case"keyup":return Op.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mn=!1;function Pp(t,e){switch(t){case"compositionend":return sd(e);case"keypress":return e.which!==32?null:(Za=!0,Xa);case"textInput":return t=e.data,t===Xa&&Za?null:t;default:return null}}function Rp(t,e){if(Mn)return t==="compositionend"||!Ql&&rd(t,e)?(t=td(),Bs=Kl=Vt=null,Mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nd&&e.locale!=="ko"?null:e.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ap[t.type]:e==="textarea"}function id(t,e,n,r){$c(r),e=si(e,"onChange"),0<e.length&&(n=new Gl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nr=null,Jr=null;function Ip(t){md(t,0)}function ji(t){var e=Wn(t);if(jc(e))return t}function Np(t,e){if(t==="change")return e}var od=!1;if(At){var no;if(At){var ro="oninput"in document;if(!ro){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),ro=typeof tu.oninput=="function"}no=ro}else no=!1;od=no&&(!document.documentMode||9<document.documentMode)}function nu(){Nr&&(Nr.detachEvent("onpropertychange",ld),Jr=Nr=null)}function ld(t){if(t.propertyName==="value"&&ji(Jr)){var e=[];id(e,Jr,t,Bl(t)),Mc(Ip,e)}}function Lp(t,e,n){t==="focusin"?(nu(),Nr=e,Jr=n,Nr.attachEvent("onpropertychange",ld)):t==="focusout"&&nu()}function $p(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ji(Jr)}function Up(t,e){if(t==="click")return ji(e)}function Dp(t,e){if(t==="input"||t==="change")return ji(e)}function zp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:zp;function Qr(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jo.call(e,s)||!yt(t[s],e[s]))return!1}return!0}function ru(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function su(t,e){var n=ru(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ru(n)}}function ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ud(){for(var t=window,e=Ys();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ys(t.document)}return e}function Yl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mp(t){var e=ud(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ad(n.ownerDocument.documentElement,n)){if(r!==null&&Yl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=su(n,i);var o=su(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fp=At&&"documentMode"in document&&11>=document.documentMode,Fn=null,Go=null,Lr=null,Jo=!1;function iu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jo||Fn==null||Fn!==Ys(r)||(r=Fn,"selectionStart"in r&&Yl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lr&&Qr(Lr,r)||(Lr=r,r=si(Go,"onSelect"),0<r.length&&(e=new Gl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fn)))}function Cs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bn={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},so={},cd={};At&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function Pi(t){if(so[t])return so[t];if(!Bn[t])return t;var e=Bn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cd)return so[t]=e[n];return t}var dd=Pi("animationend"),fd=Pi("animationiteration"),hd=Pi("animationstart"),pd=Pi("transitionend"),gd=new Map,ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(t,e){gd.set(t,e),bn(e,[t])}for(var io=0;io<ou.length;io++){var oo=ou[io],Bp=oo.toLowerCase(),Wp=oo[0].toUpperCase()+oo.slice(1);rn(Bp,"on"+Wp)}rn(dd,"onAnimationEnd");rn(fd,"onAnimationIteration");rn(hd,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(pd,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function lu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bh(r,e,void 0,t),t.currentTarget=null}function md(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;lu(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;lu(s,l,u),i=a}}}if(Zs)throw t=Ho,Zs=!1,Ho=null,t}function te(t,e){var n=e[el];n===void 0&&(n=e[el]=new Set);var r=t+"__bubble";n.has(r)||(vd(e,t,2,!1),n.add(r))}function lo(t,e,n){var r=0;e&&(r|=4),vd(n,t,r,e)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Yr(t){if(!t[Ts]){t[Ts]=!0,Cc.forEach(function(n){n!=="selectionchange"&&(Hp.has(n)||lo(n,!1,t),lo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ts]||(e[Ts]=!0,lo("selectionchange",!1,e))}}function vd(t,e,n,r){switch(ed(e)){case 1:var s=sp;break;case 4:s=ip;break;default:s=ql}n=s.bind(null,e,n,t),s=void 0,!Wo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ao(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=gn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Mc(function(){var u=i,c=Bl(n),d=[];e:{var h=gd.get(t);if(h!==void 0){var m=Gl,y=t;switch(t){case"keypress":if(Ws(n)===0)break e;case"keydown":case"keyup":m=_p;break;case"focusin":y="focus",m=to;break;case"focusout":y="blur",m=to;break;case"beforeblur":case"afterblur":m=to;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ep;break;case dd:case fd:case hd:m=dp;break;case pd:m=Tp;break;case"scroll":m=op;break;case"wheel":m=xp;break;case"copy":case"cut":case"paste":m=hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ya}var v=(e&4)!==0,S=!v&&t==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var f=u,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=Vr(f,p),w!=null&&v.push(Xr(f,w,g)))),S)break;f=f.return}0<v.length&&(h=new m(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Fo&&(y=n.relatedTarget||n.fromElement)&&(gn(y)||y[It]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?gn(y):null,y!==null&&(S=xn(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=Ja,w="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ya,w="onPointerLeave",p="onPointerEnter",f="pointer"),S=m==null?h:Wn(m),g=y==null?h:Wn(y),h=new v(w,f+"leave",m,n,c),h.target=S,h.relatedTarget=g,w=null,gn(c)===u&&(v=new v(p,f+"enter",y,n,c),v.target=g,v.relatedTarget=S,w=v),S=w,m&&y)t:{for(v=m,p=y,f=0,g=v;g;g=jn(g))f++;for(g=0,w=p;w;w=jn(w))g++;for(;0<f-g;)v=jn(v),f--;for(;0<g-f;)p=jn(p),g--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=jn(v),p=jn(p)}v=null}else v=null;m!==null&&au(d,h,m,v,!1),y!==null&&S!==null&&au(d,S,y,v,!0)}}e:{if(h=u?Wn(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=Np;else if(eu(h))if(od)T=Dp;else{T=$p;var k=Lp}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Up);if(T&&(T=T(t,u))){id(d,T,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&$o(h,"number",h.value)}switch(k=u?Wn(u):window,t){case"focusin":(eu(k)||k.contentEditable==="true")&&(Fn=k,Go=u,Lr=null);break;case"focusout":Lr=Go=Fn=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,iu(d,n,c);break;case"selectionchange":if(Fp)break;case"keydown":case"keyup":iu(d,n,c)}var E;if(Ql)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Mn?rd(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(nd&&n.locale!=="ko"&&(Mn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Mn&&(E=td()):(Vt=c,Kl="value"in Vt?Vt.value:Vt.textContent,Mn=!0)),k=si(u,j),0<k.length&&(j=new Qa(j,t,null,n,c),d.push({event:j,listeners:k}),E?j.data=E:(E=sd(n),E!==null&&(j.data=E)))),(E=jp?Pp(t,n):Rp(t,n))&&(u=si(u,"onBeforeInput"),0<u.length&&(c=new Qa("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}md(d,e)})}function Xr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function si(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vr(t,n),i!=null&&r.unshift(Xr(t,i,s)),i=Vr(t,e),i!=null&&r.push(Xr(t,i,s))),t=t.return}return r}function jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function au(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Vr(n,i),a!=null&&o.unshift(Xr(n,a,l))):s||(a=Vr(n,i),a!=null&&o.push(Xr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Vp=/\r\n?/g,qp=/\u0000|\uFFFD/g;function uu(t){return(typeof t=="string"?t:""+t).replace(Vp,`
`).replace(qp,"")}function bs(t,e,n){if(e=uu(e),uu(t)!==e&&n)throw Error(C(425))}function ii(){}var Qo=null,Yo=null;function Xo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,Kp=typeof clearTimeout=="function"?clearTimeout:void 0,cu=typeof Promise=="function"?Promise:void 0,Gp=typeof queueMicrotask=="function"?queueMicrotask:typeof cu<"u"?function(t){return cu.resolve(null).then(t).catch(Jp)}:Zo;function Jp(t){setTimeout(function(){throw t})}function uo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gr(e)}function Qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function du(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),kt="__reactFiber$"+hr,Zr="__reactProps$"+hr,It="__reactContainer$"+hr,el="__reactEvents$"+hr,Qp="__reactListeners$"+hr,Yp="__reactHandles$"+hr;function gn(t){var e=t[kt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[It]||n[kt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=du(t);t!==null;){if(n=t[kt])return n;t=du(t)}return e}t=n,n=t.parentNode}return null}function ds(t){return t=t[kt]||t[It],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Ri(t){return t[Zr]||null}var tl=[],Hn=-1;function sn(t){return{current:t}}function ne(t){0>Hn||(t.current=tl[Hn],tl[Hn]=null,Hn--)}function Z(t,e){Hn++,tl[Hn]=t.current,t.current=e}var nn={},Re=sn(nn),We=sn(!1),Sn=nn;function sr(t,e){var n=t.type.contextTypes;if(!n)return nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function He(t){return t=t.childContextTypes,t!=null}function oi(){ne(We),ne(Re)}function fu(t,e,n){if(Re.current!==nn)throw Error(C(168));Z(Re,e),Z(We,n)}function yd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,Lh(t)||"Unknown",s));return ae({},n,r)}function li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nn,Sn=Re.current,Z(Re,t),Z(We,We.current),!0}function hu(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=yd(t,e,Sn),r.__reactInternalMemoizedMergedChildContext=t,ne(We),ne(Re),Z(Re,t)):ne(We),Z(We,n)}var Ot=null,Ai=!1,co=!1;function wd(t){Ot===null?Ot=[t]:Ot.push(t)}function Xp(t){Ai=!0,wd(t)}function on(){if(!co&&Ot!==null){co=!0;var t=0,e=Q;try{var n=Ot;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ot=null,Ai=!1}catch(s){throw Ot!==null&&(Ot=Ot.slice(t+1)),Hc(Wl,on),s}finally{Q=e,co=!1}}return null}var Vn=[],qn=0,ai=null,ui=0,rt=[],st=0,kn=null,jt=1,Pt="";function cn(t,e){Vn[qn++]=ui,Vn[qn++]=ai,ai=t,ui=e}function _d(t,e,n){rt[st++]=jt,rt[st++]=Pt,rt[st++]=kn,kn=t;var r=jt;t=Pt;var s=32-mt(r)-1;r&=~(1<<s),n+=1;var i=32-mt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jt=1<<32-mt(e)+s|n<<s|r,Pt=i+t}else jt=1<<i|n<<s|r,Pt=t}function Xl(t){t.return!==null&&(cn(t,1),_d(t,1,0))}function Zl(t){for(;t===ai;)ai=Vn[--qn],Vn[qn]=null,ui=Vn[--qn],Vn[qn]=null;for(;t===kn;)kn=rt[--st],rt[st]=null,Pt=rt[--st],rt[st]=null,jt=rt[--st],rt[st]=null}var Qe=null,Je=null,ie=!1,gt=null;function Sd(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qe=t,Je=Qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qe=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kn!==null?{id:jt,overflow:Pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qe=t,Je=null,!0):!1;default:return!1}}function nl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rl(t){if(ie){var e=Je;if(e){var n=e;if(!pu(t,e)){if(nl(t))throw Error(C(418));e=Qt(n.nextSibling);var r=Qe;e&&pu(t,e)?Sd(r,n):(t.flags=t.flags&-4097|2,ie=!1,Qe=t)}}else{if(nl(t))throw Error(C(418));t.flags=t.flags&-4097|2,ie=!1,Qe=t}}}function gu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qe=t}function xs(t){if(t!==Qe)return!1;if(!ie)return gu(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xo(t.type,t.memoizedProps)),e&&(e=Je)){if(nl(t))throw kd(),Error(C(418));for(;e;)Sd(t,e),e=Qt(e.nextSibling)}if(gu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Je=Qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=Qe?Qt(t.stateNode.nextSibling):null;return!0}function kd(){for(var t=Je;t;)t=Qt(t.nextSibling)}function ir(){Je=Qe=null,ie=!1}function ea(t){gt===null?gt=[t]:gt.push(t)}var Zp=$t.ReactCurrentBatchConfig;function kr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function Os(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mu(t){var e=t._init;return e(t._payload)}function Ed(t){function e(p,f){if(t){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=en(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,f,g,w){return f===null||f.tag!==6?(f=yo(g,p.mode,w),f.return=p,f):(f=s(f,g),f.return=p,f)}function a(p,f,g,w){var T=g.type;return T===zn?c(p,f,g.props.children,w,g.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mt&&mu(T)===f.type)?(w=s(f,g.props),w.ref=kr(p,f,g),w.return=p,w):(w=Qs(g.type,g.key,g.props,null,p.mode,w),w.ref=kr(p,f,g),w.return=p,w)}function u(p,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=wo(g,p.mode,w),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function c(p,f,g,w,T){return f===null||f.tag!==7?(f=_n(g,p.mode,w,T),f.return=p,f):(f=s(f,g),f.return=p,f)}function d(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=yo(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vs:return g=Qs(f.type,f.key,f.props,null,p.mode,g),g.ref=kr(p,null,f),g.return=p,g;case Dn:return f=wo(f,p.mode,g),f.return=p,f;case Mt:var w=f._init;return d(p,w(f._payload),g)}if(xr(f)||vr(f))return f=_n(f,p.mode,g,null),f.return=p,f;Os(p,f)}return null}function h(p,f,g,w){var T=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:l(p,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:return g.key===T?a(p,f,g,w):null;case Dn:return g.key===T?u(p,f,g,w):null;case Mt:return T=g._init,h(p,f,T(g._payload),w)}if(xr(g)||vr(g))return T!==null?null:c(p,f,g,w,null);Os(p,g)}return null}function m(p,f,g,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,l(f,p,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vs:return p=p.get(w.key===null?g:w.key)||null,a(f,p,w,T);case Dn:return p=p.get(w.key===null?g:w.key)||null,u(f,p,w,T);case Mt:var k=w._init;return m(p,f,g,k(w._payload),T)}if(xr(w)||vr(w))return p=p.get(g)||null,c(f,p,w,T,null);Os(f,w)}return null}function y(p,f,g,w){for(var T=null,k=null,E=f,j=f=0,B=null;E!==null&&j<g.length;j++){E.index>j?(B=E,E=null):B=E.sibling;var z=h(p,E,g[j],w);if(z===null){E===null&&(E=B);break}t&&E&&z.alternate===null&&e(p,E),f=i(z,f,j),k===null?T=z:k.sibling=z,k=z,E=B}if(j===g.length)return n(p,E),ie&&cn(p,j),T;if(E===null){for(;j<g.length;j++)E=d(p,g[j],w),E!==null&&(f=i(E,f,j),k===null?T=E:k.sibling=E,k=E);return ie&&cn(p,j),T}for(E=r(p,E);j<g.length;j++)B=m(E,p,j,g[j],w),B!==null&&(t&&B.alternate!==null&&E.delete(B.key===null?j:B.key),f=i(B,f,j),k===null?T=B:k.sibling=B,k=B);return t&&E.forEach(function(Ae){return e(p,Ae)}),ie&&cn(p,j),T}function v(p,f,g,w){var T=vr(g);if(typeof T!="function")throw Error(C(150));if(g=T.call(g),g==null)throw Error(C(151));for(var k=T=null,E=f,j=f=0,B=null,z=g.next();E!==null&&!z.done;j++,z=g.next()){E.index>j?(B=E,E=null):B=E.sibling;var Ae=h(p,E,z.value,w);if(Ae===null){E===null&&(E=B);break}t&&E&&Ae.alternate===null&&e(p,E),f=i(Ae,f,j),k===null?T=Ae:k.sibling=Ae,k=Ae,E=B}if(z.done)return n(p,E),ie&&cn(p,j),T;if(E===null){for(;!z.done;j++,z=g.next())z=d(p,z.value,w),z!==null&&(f=i(z,f,j),k===null?T=z:k.sibling=z,k=z);return ie&&cn(p,j),T}for(E=r(p,E);!z.done;j++,z=g.next())z=m(E,p,j,z.value,w),z!==null&&(t&&z.alternate!==null&&E.delete(z.key===null?j:z.key),f=i(z,f,j),k===null?T=z:k.sibling=z,k=z);return t&&E.forEach(function(Ie){return e(p,Ie)}),ie&&cn(p,j),T}function S(p,f,g,w){if(typeof g=="object"&&g!==null&&g.type===zn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:e:{for(var T=g.key,k=f;k!==null;){if(k.key===T){if(T=g.type,T===zn){if(k.tag===7){n(p,k.sibling),f=s(k,g.props.children),f.return=p,p=f;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Mt&&mu(T)===k.type){n(p,k.sibling),f=s(k,g.props),f.ref=kr(p,k,g),f.return=p,p=f;break e}n(p,k);break}else e(p,k);k=k.sibling}g.type===zn?(f=_n(g.props.children,p.mode,w,g.key),f.return=p,p=f):(w=Qs(g.type,g.key,g.props,null,p.mode,w),w.ref=kr(p,f,g),w.return=p,p=w)}return o(p);case Dn:e:{for(k=g.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=wo(g,p.mode,w),f.return=p,p=f}return o(p);case Mt:return k=g._init,S(p,f,k(g._payload),w)}if(xr(g))return y(p,f,g,w);if(vr(g))return v(p,f,g,w);Os(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,g),f.return=p,p=f):(n(p,f),f=yo(g,p.mode,w),f.return=p,p=f),o(p)):n(p,f)}return S}var or=Ed(!0),Cd=Ed(!1),ci=sn(null),di=null,Kn=null,ta=null;function na(){ta=Kn=di=null}function ra(t){var e=ci.current;ne(ci),t._currentValue=e}function sl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function er(t,e){di=t,ta=Kn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Be=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(ta!==t)if(t={context:t,memoizedValue:e,next:null},Kn===null){if(di===null)throw Error(C(308));Kn=t,di.dependencies={lanes:0,firstContext:t}}else Kn=Kn.next=t;return e}var mn=null;function sa(t){mn===null?mn=[t]:mn.push(t)}function Td(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,sa(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nt(t,r)}function Nt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ft=!1;function ia(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nt(t,n)}return s=r.interleaved,s===null?(e.next=e,sa(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nt(t,n)}function Hs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hl(t,n)}}function vu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fi(t,e,n,r){var s=t.updateQueue;Ft=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=u=a=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,v=l;switch(h=e,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=ae({},d,h);break e;case 2:Ft=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Cn|=o,t.lanes=o,t.memoizedState=d}}function yu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var fs={},Ct=sn(fs),es=sn(fs),ts=sn(fs);function vn(t){if(t===fs)throw Error(C(174));return t}function oa(t,e){switch(Z(ts,e),Z(es,t),Z(Ct,fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Do(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Do(e,t)}ne(Ct),Z(Ct,e)}function lr(){ne(Ct),ne(es),ne(ts)}function xd(t){vn(ts.current);var e=vn(Ct.current),n=Do(e,t.type);e!==n&&(Z(es,t),Z(Ct,n))}function la(t){es.current===t&&(ne(Ct),ne(es))}var oe=sn(0);function hi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fo=[];function aa(){for(var t=0;t<fo.length;t++)fo[t]._workInProgressVersionPrimary=null;fo.length=0}var Vs=$t.ReactCurrentDispatcher,ho=$t.ReactCurrentBatchConfig,En=0,le=null,we=null,Se=null,pi=!1,$r=!1,ns=0,eg=0;function xe(){throw Error(C(321))}function ua(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function ca(t,e,n,r,s,i){if(En=i,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vs.current=t===null||t.memoizedState===null?sg:ig,t=n(r,s),$r){i=0;do{if($r=!1,ns=0,25<=i)throw Error(C(301));i+=1,Se=we=null,e.updateQueue=null,Vs.current=og,t=n(r,s)}while($r)}if(Vs.current=gi,e=we!==null&&we.next!==null,En=0,Se=we=le=null,pi=!1,e)throw Error(C(300));return t}function da(){var t=ns!==0;return ns=0,t}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?le.memoizedState=Se=t:Se=Se.next=t,Se}function ut(){if(we===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=Se===null?le.memoizedState:Se.next;if(e!==null)Se=e,we=t;else{if(t===null)throw Error(C(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?le.memoizedState=Se=t:Se=Se.next=t}return Se}function rs(t,e){return typeof e=="function"?e(t):e}function po(t){var e=ut(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=we,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((En&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,le.lanes|=c,Cn|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,yt(r,e.memoizedState)||(Be=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,le.lanes|=i,Cn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function go(t){var e=ut(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yt(i,e.memoizedState)||(Be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Od(){}function jd(t,e){var n=le,r=ut(),s=e(),i=!yt(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,fa(Ad.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,ss(9,Rd.bind(null,n,r,s,e),void 0,null),ke===null)throw Error(C(349));En&30||Pd(n,e,s)}return s}function Pd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rd(t,e,n,r){e.value=n,e.getSnapshot=r,Id(e)&&Nd(t)}function Ad(t,e,n){return n(function(){Id(e)&&Nd(t)})}function Id(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function Nd(t){var e=Nt(t,1);e!==null&&vt(e,t,1,-1)}function wu(t){var e=_t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},e.queue=t,t=t.dispatch=rg.bind(null,le,t),[e.memoizedState,t]}function ss(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ld(){return ut().memoizedState}function qs(t,e,n,r){var s=_t();le.flags|=t,s.memoizedState=ss(1|e,n,void 0,r===void 0?null:r)}function Ii(t,e,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,r!==null&&ua(r,o.deps)){s.memoizedState=ss(e,n,i,r);return}}le.flags|=t,s.memoizedState=ss(1|e,n,i,r)}function _u(t,e){return qs(8390656,8,t,e)}function fa(t,e){return Ii(2048,8,t,e)}function $d(t,e){return Ii(4,2,t,e)}function Ud(t,e){return Ii(4,4,t,e)}function Dd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zd(t,e,n){return n=n!=null?n.concat([t]):null,Ii(4,4,Dd.bind(null,e,t),n)}function ha(){}function Md(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ua(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fd(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ua(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bd(t,e,n){return En&21?(yt(n,e)||(n=Kc(),le.lanes|=n,Cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Be=!0),t.memoizedState=n)}function tg(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=ho.transition;ho.transition={};try{t(!1),e()}finally{Q=n,ho.transition=r}}function Wd(){return ut().memoizedState}function ng(t,e,n){var r=Zt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hd(t))Vd(e,n);else if(n=Td(t,e,n,r),n!==null){var s=Le();vt(n,t,r,s),qd(n,e,r)}}function rg(t,e,n){var r=Zt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hd(t))Vd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,yt(l,o)){var a=e.interleaved;a===null?(s.next=s,sa(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Td(t,e,s,r),n!==null&&(s=Le(),vt(n,t,r,s),qd(n,e,r))}}function Hd(t){var e=t.alternate;return t===le||e!==null&&e===le}function Vd(t,e){$r=pi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hl(t,n)}}var gi={readContext:at,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},sg={readContext:at,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:_u,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qs(4194308,4,Dd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qs(4194308,4,t,e)},useInsertionEffect:function(t,e){return qs(4,2,t,e)},useMemo:function(t,e){var n=_t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ng.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:wu,useDebugValue:ha,useDeferredValue:function(t){return _t().memoizedState=t},useTransition:function(){var t=wu(!1),e=t[0];return t=tg.bind(null,t[1]),_t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=le,s=_t();if(ie){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),ke===null)throw Error(C(349));En&30||Pd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,_u(Ad.bind(null,r,i,t),[t]),r.flags|=2048,ss(9,Rd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=_t(),e=ke.identifierPrefix;if(ie){var n=Pt,r=jt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ig={readContext:at,useCallback:Md,useContext:at,useEffect:fa,useImperativeHandle:zd,useInsertionEffect:$d,useLayoutEffect:Ud,useMemo:Fd,useReducer:po,useRef:Ld,useState:function(){return po(rs)},useDebugValue:ha,useDeferredValue:function(t){var e=ut();return Bd(e,we.memoizedState,t)},useTransition:function(){var t=po(rs)[0],e=ut().memoizedState;return[t,e]},useMutableSource:Od,useSyncExternalStore:jd,useId:Wd,unstable_isNewReconciler:!1},og={readContext:at,useCallback:Md,useContext:at,useEffect:fa,useImperativeHandle:zd,useInsertionEffect:$d,useLayoutEffect:Ud,useMemo:Fd,useReducer:go,useRef:Ld,useState:function(){return go(rs)},useDebugValue:ha,useDeferredValue:function(t){var e=ut();return we===null?e.memoizedState=t:Bd(e,we.memoizedState,t)},useTransition:function(){var t=go(rs)[0],e=ut().memoizedState;return[t,e]},useMutableSource:Od,useSyncExternalStore:jd,useId:Wd,unstable_isNewReconciler:!1};function ft(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function il(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ni={isMounted:function(t){return(t=t._reactInternals)?xn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Le(),s=Zt(t),i=Rt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Yt(t,i,s),e!==null&&(vt(e,t,s,r),Hs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Le(),s=Zt(t),i=Rt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Yt(t,i,s),e!==null&&(vt(e,t,s,r),Hs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Le(),r=Zt(t),s=Rt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Yt(t,s,r),e!==null&&(vt(e,t,r,n),Hs(e,t,r))}};function Su(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qr(n,r)||!Qr(s,i):!0}function Kd(t,e,n){var r=!1,s=nn,i=e.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=He(e)?Sn:Re.current,r=e.contextTypes,i=(r=r!=null)?sr(t,s):nn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ni,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ku(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ni.enqueueReplaceState(e,e.state,null)}function ol(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ia(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=He(e)?Sn:Re.current,s.context=sr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(il(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ni.enqueueReplaceState(s,s.state,null),fi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ar(t,e){try{var n="",r=e;do n+=Nh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ll(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lg=typeof WeakMap=="function"?WeakMap:Map;function Gd(t,e,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vi||(vi=!0,vl=r),ll(t,e)},n}function Jd(t,e,n){n=Rt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ll(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ll(t,e),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Eu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lg;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Sg.bind(null,t,e,n),e.then(t,t))}function Cu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rt(-1,1),e.tag=2,Yt(n,e,1))),n.lanes|=1),t)}var ag=$t.ReactCurrentOwner,Be=!1;function Ne(t,e,n,r){e.child=t===null?Cd(e,null,n,r):or(e,t.child,n,r)}function bu(t,e,n,r,s){n=n.render;var i=e.ref;return er(e,s),r=ca(t,e,n,r,i,s),n=da(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lt(t,e,s)):(ie&&n&&Xl(e),e.flags|=1,Ne(t,e,r,s),e.child)}function xu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Sa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Qd(t,e,i,r,s)):(t=Qs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(o,r)&&t.ref===e.ref)return Lt(t,e,s)}return e.flags|=1,t=en(i,r),t.ref=e.ref,t.return=e,e.child=t}function Qd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qr(i,r)&&t.ref===e.ref)if(Be=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Be=!0);else return e.lanes=t.lanes,Lt(t,e,s)}return al(t,e,n,r,s)}function Yd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Jn,Ge),Ge|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Jn,Ge),Ge|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Jn,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Z(Jn,Ge),Ge|=r;return Ne(t,e,s,n),e.child}function Xd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function al(t,e,n,r,s){var i=He(n)?Sn:Re.current;return i=sr(e,i),er(e,s),n=ca(t,e,n,r,i,s),r=da(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lt(t,e,s)):(ie&&r&&Xl(e),e.flags|=1,Ne(t,e,n,s),e.child)}function Ou(t,e,n,r,s){if(He(n)){var i=!0;li(e)}else i=!1;if(er(e,s),e.stateNode===null)Ks(t,e),Kd(e,n,r),ol(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=He(n)?Sn:Re.current,u=sr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ku(e,o,r,u),Ft=!1;var h=e.memoizedState;o.state=h,fi(e,r,o,s),a=e.memoizedState,l!==r||h!==a||We.current||Ft?(typeof c=="function"&&(il(e,n,c,r),a=e.memoizedState),(l=Ft||Su(e,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ft(e.type,l),o.props=u,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=at(a):(a=He(n)?Sn:Re.current,a=sr(e,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&ku(e,o,r,a),Ft=!1,h=e.memoizedState,o.state=h,fi(e,r,o,s);var y=e.memoizedState;l!==d||h!==y||We.current||Ft?(typeof m=="function"&&(il(e,n,m,r),y=e.memoizedState),(u=Ft||Su(e,n,u,r,h,y,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ul(t,e,n,r,i,s)}function ul(t,e,n,r,s,i){Xd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&hu(e,n,!1),Lt(t,e,i);r=e.stateNode,ag.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=or(e,t.child,null,i),e.child=or(e,null,l,i)):Ne(t,e,l,i),e.memoizedState=r.state,s&&hu(e,n,!0),e.child}function Zd(t){var e=t.stateNode;e.pendingContext?fu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fu(t,e.context,!1),oa(t,e.containerInfo)}function ju(t,e,n,r,s){return ir(),ea(s),e.flags|=256,Ne(t,e,n,r),e.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function dl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ef(t,e,n){var r=e.pendingProps,s=oe.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(oe,s&1),t===null)return rl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ui(o,r,0,null),t=_n(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=dl(n),e.memoizedState=cl,t):pa(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ug(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=en(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=en(l,i):(i=_n(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?dl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=cl,r}return i=t.child,t=i.sibling,r=en(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pa(t,e){return e=Ui({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function js(t,e,n,r){return r!==null&&ea(r),or(e,t.child,null,n),t=pa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ug(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mo(Error(C(422))),js(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ui({mode:"visible",children:r.children},s,0,null),i=_n(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&or(e,t.child,null,o),e.child.memoizedState=dl(o),e.memoizedState=cl,i);if(!(e.mode&1))return js(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=mo(i,r,void 0),js(t,e,o,r)}if(l=(o&t.childLanes)!==0,Be||l){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(t,s),vt(r,t,s,-1))}return _a(),r=mo(Error(C(421))),js(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=kg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Je=Qt(s.nextSibling),Qe=e,ie=!0,gt=null,t!==null&&(rt[st++]=jt,rt[st++]=Pt,rt[st++]=kn,jt=t.id,Pt=t.overflow,kn=e),e=pa(e,r.children),e.flags|=4096,e)}function Pu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sl(t.return,e,n)}function vo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function tf(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pu(t,n,e);else if(t.tag===19)Pu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(oe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vo(e,!0,n,null,i);break;case"together":vo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=en(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=en(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cg(t,e,n){switch(e.tag){case 3:Zd(e),ir();break;case 5:xd(e);break;case 1:He(e.type)&&li(e);break;case 4:oa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Z(ci,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?ef(t,e,n):(Z(oe,oe.current&1),t=Lt(t,e,n),t!==null?t.sibling:null);Z(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tf(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,Yd(t,e,n)}return Lt(t,e,n)}var nf,fl,rf,sf;nf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fl=function(){};rf=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vn(Ct.current);var i=null;switch(n){case"input":s=No(t,s),r=No(t,r),i=[];break;case"select":s=ae({},s,{value:void 0}),r=ae({},r,{value:void 0}),i=[];break;case"textarea":s=Uo(t,s),r=Uo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ii)}zo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&te("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};sf=function(t,e,n,r){n!==r&&(e.flags|=4)};function Er(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dg(t,e,n){var r=e.pendingProps;switch(Zl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return He(e.type)&&oi(),Oe(e),null;case 3:return r=e.stateNode,lr(),ne(We),ne(Re),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gt!==null&&(_l(gt),gt=null))),fl(t,e),Oe(e),null;case 5:la(e);var s=vn(ts.current);if(n=e.type,t!==null&&e.stateNode!=null)rf(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Oe(e),null}if(t=vn(Ct.current),xs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kt]=e,r[Zr]=i,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<jr.length;s++)te(jr[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":za(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Fa(r,i),te("invalid",r)}zo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&bs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&bs(r.textContent,l,t),s=["children",""+l]):Wr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":ys(r),Ma(r,i,!0);break;case"textarea":ys(r),Ba(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ii)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ac(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kt]=e,t[Zr]=r,nf(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mo(n,r),n){case"dialog":te("cancel",t),te("close",t),s=r;break;case"iframe":case"object":case"embed":te("load",t),s=r;break;case"video":case"audio":for(s=0;s<jr.length;s++)te(jr[s],t);s=r;break;case"source":te("error",t),s=r;break;case"img":case"image":case"link":te("error",t),te("load",t),s=r;break;case"details":te("toggle",t),s=r;break;case"input":za(t,r),s=No(t,r),te("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ae({},r,{value:void 0}),te("invalid",t);break;case"textarea":Fa(t,r),s=Uo(t,r),te("invalid",t);break;default:s=r}zo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Lc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ic(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Hr(t,a):typeof a=="number"&&Hr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&te("scroll",t):a!=null&&Dl(t,i,a,o))}switch(n){case"input":ys(t),Ma(t,r,!1);break;case"textarea":ys(t),Ba(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oe(e),null;case 6:if(t&&e.stateNode!=null)sf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=vn(ts.current),vn(Ct.current),xs(e)){if(r=e.stateNode,n=e.memoizedProps,r[kt]=e,(i=r.nodeValue!==n)&&(t=Qe,t!==null))switch(t.tag){case 3:bs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=e,e.stateNode=r}return Oe(e),null;case 13:if(ne(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&Je!==null&&e.mode&1&&!(e.flags&128))kd(),ir(),e.flags|=98560,i=!1;else if(i=xs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[kt]=e}else ir(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),i=!1}else gt!==null&&(_l(gt),gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?_e===0&&(_e=3):_a())),e.updateQueue!==null&&(e.flags|=4),Oe(e),null);case 4:return lr(),fl(t,e),t===null&&Yr(e.stateNode.containerInfo),Oe(e),null;case 10:return ra(e.type._context),Oe(e),null;case 17:return He(e.type)&&oi(),Oe(e),null;case 19:if(ne(oe),i=e.memoizedState,i===null)return Oe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Er(i,!1);else{if(_e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hi(t),o!==null){for(e.flags|=128,Er(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&fe()>ur&&(e.flags|=128,r=!0,Er(i,!1),e.lanes=4194304)}else{if(!r)if(t=hi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Oe(e),null}else 2*fe()-i.renderingStartTime>ur&&n!==1073741824&&(e.flags|=128,r=!0,Er(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=fe(),e.sibling=null,n=oe.current,Z(oe,r?n&1|2:n&1),e):(Oe(e),null);case 22:case 23:return wa(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ge&1073741824&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function fg(t,e){switch(Zl(e),e.tag){case 1:return He(e.type)&&oi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lr(),ne(We),ne(Re),aa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return la(e),null;case 13:if(ne(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));ir()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(oe),null;case 4:return lr(),null;case 10:return ra(e.type._context),null;case 22:case 23:return wa(),null;case 24:return null;default:return null}}var Ps=!1,Pe=!1,hg=typeof WeakSet=="function"?WeakSet:Set,A=null;function Gn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(t,e,r)}else n.current=null}function hl(t,e,n){try{n()}catch(r){de(t,e,r)}}var Ru=!1;function pg(t,e){if(Qo=ni,t=ud(),Yl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++c===r&&(a=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yo={focusedElem:t,selectionRange:n},ni=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:ft(e.type,v),S);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){de(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return y=Ru,Ru=!1,y}function Ur(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&hl(e,n,i)}s=s.next}while(s!==r)}}function Li(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function of(t){var e=t.alternate;e!==null&&(t.alternate=null,of(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kt],delete e[Zr],delete e[el],delete e[Qp],delete e[Yp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lf(t){return t.tag===5||t.tag===3||t.tag===4}function Au(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ii));else if(r!==4&&(t=t.child,t!==null))for(gl(t,e,n),t=t.sibling;t!==null;)gl(t,e,n),t=t.sibling}function ml(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ml(t,e,n),t=t.sibling;t!==null;)ml(t,e,n),t=t.sibling}var Ce=null,ht=!1;function Ut(t,e,n){for(n=n.child;n!==null;)af(t,e,n),n=n.sibling}function af(t,e,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(xi,n)}catch{}switch(n.tag){case 5:Pe||Gn(n,e);case 6:var r=Ce,s=ht;Ce=null,Ut(t,e,n),Ce=r,ht=s,Ce!==null&&(ht?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(ht?(t=Ce,n=n.stateNode,t.nodeType===8?uo(t.parentNode,n):t.nodeType===1&&uo(t,n),Gr(t)):uo(Ce,n.stateNode));break;case 4:r=Ce,s=ht,Ce=n.stateNode.containerInfo,ht=!0,Ut(t,e,n),Ce=r,ht=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hl(n,e,o),s=s.next}while(s!==r)}Ut(t,e,n);break;case 1:if(!Pe&&(Gn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){de(n,e,l)}Ut(t,e,n);break;case 21:Ut(t,e,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Ut(t,e,n),Pe=r):Ut(t,e,n);break;default:Ut(t,e,n)}}function Iu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hg),e.forEach(function(r){var s=Eg.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ct(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,ht=!1;break e;case 3:Ce=l.stateNode.containerInfo,ht=!0;break e;case 4:Ce=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(Ce===null)throw Error(C(160));af(i,o,s),Ce=null,ht=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){de(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uf(e,t),e=e.sibling}function uf(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ct(e,t),wt(t),r&4){try{Ur(3,t,t.return),Li(3,t)}catch(v){de(t,t.return,v)}try{Ur(5,t,t.return)}catch(v){de(t,t.return,v)}}break;case 1:ct(e,t),wt(t),r&512&&n!==null&&Gn(n,n.return);break;case 5:if(ct(e,t),wt(t),r&512&&n!==null&&Gn(n,n.return),t.flags&32){var s=t.stateNode;try{Hr(s,"")}catch(v){de(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Pc(s,i),Mo(l,o);var u=Mo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Lc(s,d):c==="dangerouslySetInnerHTML"?Ic(s,d):c==="children"?Hr(s,d):Dl(s,c,d,u)}switch(l){case"input":Lo(s,i);break;case"textarea":Rc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qn(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qn(s,!!i.multiple,i.defaultValue,!0):Qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zr]=i}catch(v){de(t,t.return,v)}}break;case 6:if(ct(e,t),wt(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){de(t,t.return,v)}}break;case 3:if(ct(e,t),wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(e.containerInfo)}catch(v){de(t,t.return,v)}break;case 4:ct(e,t),wt(t);break;case 13:ct(e,t),wt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(va=fe())),r&4&&Iu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Pe=(u=Pe)||c,ct(e,t),Pe=u):ct(e,t),wt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(A=t,c=t.child;c!==null;){for(d=A=c;A!==null;){switch(h=A,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ur(4,h,h.return);break;case 1:Gn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){de(r,n,v)}}break;case 5:Gn(h,h.return);break;case 22:if(h.memoizedState!==null){Lu(d);continue}}m!==null?(m.return=h,A=m):Lu(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nc("display",o))}catch(v){de(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){de(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ct(e,t),wt(t),r&4&&Iu(t);break;case 21:break;default:ct(e,t),wt(t)}}function wt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lf(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hr(s,""),r.flags&=-33);var i=Au(t);ml(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Au(t);gl(t,l,o);break;default:throw Error(C(161))}}catch(a){de(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gg(t,e,n){A=t,cf(t)}function cf(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ps;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Pe;l=Ps;var u=Pe;if(Ps=o,(Pe=a)&&!u)for(A=s;A!==null;)o=A,a=o.child,o.tag===22&&o.memoizedState!==null?$u(s):a!==null?(a.return=o,A=a):$u(s);for(;i!==null;)A=i,cf(i),i=i.sibling;A=s,Ps=l,Pe=u}Nu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Nu(t)}}function Nu(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||Li(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ft(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&yu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Pe||e.flags&512&&pl(e)}catch(h){de(e,e.return,h)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function Lu(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function $u(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Li(4,e)}catch(a){de(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){de(e,s,a)}}var i=e.return;try{pl(e)}catch(a){de(e,i,a)}break;case 5:var o=e.return;try{pl(e)}catch(a){de(e,o,a)}}}catch(a){de(e,e.return,a)}if(e===t){A=null;break}var l=e.sibling;if(l!==null){l.return=e.return,A=l;break}A=e.return}}var mg=Math.ceil,mi=$t.ReactCurrentDispatcher,ga=$t.ReactCurrentOwner,ot=$t.ReactCurrentBatchConfig,K=0,ke=null,me=null,Te=0,Ge=0,Jn=sn(0),_e=0,is=null,Cn=0,$i=0,ma=0,Dr=null,Me=null,va=0,ur=1/0,bt=null,vi=!1,vl=null,Xt=null,Rs=!1,qt=null,yi=0,zr=0,yl=null,Gs=-1,Js=0;function Le(){return K&6?fe():Gs!==-1?Gs:Gs=fe()}function Zt(t){return t.mode&1?K&2&&Te!==0?Te&-Te:Zp.transition!==null?(Js===0&&(Js=Kc()),Js):(t=Q,t!==0||(t=window.event,t=t===void 0?16:ed(t.type)),t):1}function vt(t,e,n,r){if(50<zr)throw zr=0,yl=null,Error(C(185));us(t,n,r),(!(K&2)||t!==ke)&&(t===ke&&(!(K&2)&&($i|=n),_e===4&&Wt(t,Te)),Ve(t,r),n===1&&K===0&&!(e.mode&1)&&(ur=fe()+500,Ai&&on()))}function Ve(t,e){var n=t.callbackNode;Zh(t,e);var r=ti(t,t===ke?Te:0);if(r===0)n!==null&&Va(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Va(n),e===1)t.tag===0?Xp(Uu.bind(null,t)):wd(Uu.bind(null,t)),Gp(function(){!(K&6)&&on()}),n=null;else{switch(Gc(r)){case 1:n=Wl;break;case 4:n=Vc;break;case 16:n=ei;break;case 536870912:n=qc;break;default:n=ei}n=yf(n,df.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function df(t,e){if(Gs=-1,Js=0,K&6)throw Error(C(327));var n=t.callbackNode;if(tr()&&t.callbackNode!==n)return null;var r=ti(t,t===ke?Te:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wi(t,r);else{e=r;var s=K;K|=2;var i=hf();(ke!==t||Te!==e)&&(bt=null,ur=fe()+500,wn(t,e));do try{wg();break}catch(l){ff(t,l)}while(!0);na(),mi.current=i,K=s,me!==null?e=0:(ke=null,Te=0,e=_e)}if(e!==0){if(e===2&&(s=Vo(t),s!==0&&(r=s,e=wl(t,s))),e===1)throw n=is,wn(t,0),Wt(t,r),Ve(t,fe()),n;if(e===6)Wt(t,r);else{if(s=t.current.alternate,!(r&30)&&!vg(s)&&(e=wi(t,r),e===2&&(i=Vo(t),i!==0&&(r=i,e=wl(t,i))),e===1))throw n=is,wn(t,0),Wt(t,r),Ve(t,fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:dn(t,Me,bt);break;case 3:if(Wt(t,r),(r&130023424)===r&&(e=va+500-fe(),10<e)){if(ti(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Le(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zo(dn.bind(null,t,Me,bt),e);break}dn(t,Me,bt);break;case 4:if(Wt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-mt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mg(r/1960))-r,10<r){t.timeoutHandle=Zo(dn.bind(null,t,Me,bt),r);break}dn(t,Me,bt);break;case 5:dn(t,Me,bt);break;default:throw Error(C(329))}}}return Ve(t,fe()),t.callbackNode===n?df.bind(null,t):null}function wl(t,e){var n=Dr;return t.current.memoizedState.isDehydrated&&(wn(t,e).flags|=256),t=wi(t,e),t!==2&&(e=Me,Me=n,e!==null&&_l(e)),t}function _l(t){Me===null?Me=t:Me.push.apply(Me,t)}function vg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wt(t,e){for(e&=~ma,e&=~$i,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mt(e),r=1<<n;t[n]=-1,e&=~r}}function Uu(t){if(K&6)throw Error(C(327));tr();var e=ti(t,0);if(!(e&1))return Ve(t,fe()),null;var n=wi(t,e);if(t.tag!==0&&n===2){var r=Vo(t);r!==0&&(e=r,n=wl(t,r))}if(n===1)throw n=is,wn(t,0),Wt(t,e),Ve(t,fe()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dn(t,Me,bt),Ve(t,fe()),null}function ya(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(ur=fe()+500,Ai&&on())}}function Tn(t){qt!==null&&qt.tag===0&&!(K&6)&&tr();var e=K;K|=1;var n=ot.transition,r=Q;try{if(ot.transition=null,Q=1,t)return t()}finally{Q=r,ot.transition=n,K=e,!(K&6)&&on()}}function wa(){Ge=Jn.current,ne(Jn)}function wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kp(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(Zl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oi();break;case 3:lr(),ne(We),ne(Re),aa();break;case 5:la(r);break;case 4:lr();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:ra(r.type._context);break;case 22:case 23:wa()}n=n.return}if(ke=t,me=t=en(t.current,null),Te=Ge=e,_e=0,is=null,ma=$i=Cn=0,Me=Dr=null,mn!==null){for(e=0;e<mn.length;e++)if(n=mn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mn=null}return t}function ff(t,e){do{var n=me;try{if(na(),Vs.current=gi,pi){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pi=!1}if(En=0,Se=we=le=null,$r=!1,ns=0,ga.current=null,n===null||n.return===null){_e=1,is=e,me=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Te,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Cu(o);if(m!==null){m.flags&=-257,Tu(m,o,l,i,e),m.mode&1&&Eu(i,u,e),e=m,a=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(a),e.updateQueue=v}else y.add(a);break e}else{if(!(e&1)){Eu(i,u,e),_a();break e}a=Error(C(426))}}else if(ie&&l.mode&1){var S=Cu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Tu(S,o,l,i,e),ea(ar(a,l));break e}}i=a=ar(a,l),_e!==4&&(_e=2),Dr===null?Dr=[i]:Dr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Gd(i,a,e);vu(i,p);break e;case 1:l=a;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xt===null||!Xt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Jd(i,l,e);vu(i,w);break e}}i=i.return}while(i!==null)}gf(n)}catch(T){e=T,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function hf(){var t=mi.current;return mi.current=gi,t===null?gi:t}function _a(){(_e===0||_e===3||_e===2)&&(_e=4),ke===null||!(Cn&268435455)&&!($i&268435455)||Wt(ke,Te)}function wi(t,e){var n=K;K|=2;var r=hf();(ke!==t||Te!==e)&&(bt=null,wn(t,e));do try{yg();break}catch(s){ff(t,s)}while(!0);if(na(),K=n,mi.current=r,me!==null)throw Error(C(261));return ke=null,Te=0,_e}function yg(){for(;me!==null;)pf(me)}function wg(){for(;me!==null&&!Hh();)pf(me)}function pf(t){var e=vf(t.alternate,t,Ge);t.memoizedProps=t.pendingProps,e===null?gf(t):me=e,ga.current=null}function gf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fg(n,e),n!==null){n.flags&=32767,me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_e=6,me=null;return}}else if(n=dg(n,e,Ge),n!==null){me=n;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);_e===0&&(_e=5)}function dn(t,e,n){var r=Q,s=ot.transition;try{ot.transition=null,Q=1,_g(t,e,n,r)}finally{ot.transition=s,Q=r}return null}function _g(t,e,n,r){do tr();while(qt!==null);if(K&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ep(t,i),t===ke&&(me=ke=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rs||(Rs=!0,yf(ei,function(){return tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=Q;Q=1;var l=K;K|=4,ga.current=null,pg(t,n),uf(n,t),Mp(Yo),ni=!!Qo,Yo=Qo=null,t.current=n,gg(n),Vh(),K=l,Q=o,ot.transition=i}else t.current=n;if(Rs&&(Rs=!1,qt=t,yi=s),i=t.pendingLanes,i===0&&(Xt=null),Gh(n.stateNode),Ve(t,fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,t=vl,vl=null,t;return yi&1&&t.tag!==0&&tr(),i=t.pendingLanes,i&1?t===yl?zr++:(zr=0,yl=t):zr=0,on(),null}function tr(){if(qt!==null){var t=Gc(yi),e=ot.transition,n=Q;try{if(ot.transition=null,Q=16>t?16:t,qt===null)var r=!1;else{if(t=qt,qt=null,yi=0,K&6)throw Error(C(331));var s=K;for(K|=4,A=t.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Ur(8,c,i)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var h=c.sibling,m=c.return;if(of(c),c===u){A=null;break}if(h!==null){h.return=m,A=h;break}A=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ur(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,A=p;break e}A=i.return}}var f=t.current;for(A=f;A!==null;){o=A;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,A=g;else e:for(o=f;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Li(9,l)}}catch(T){de(l,l.return,T)}if(l===o){A=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,A=w;break e}A=l.return}}if(K=s,on(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(xi,t)}catch{}r=!0}return r}finally{Q=n,ot.transition=e}}return!1}function Du(t,e,n){e=ar(n,e),e=Gd(t,e,1),t=Yt(t,e,1),e=Le(),t!==null&&(us(t,1,e),Ve(t,e))}function de(t,e,n){if(t.tag===3)Du(t,t,n);else for(;e!==null;){if(e.tag===3){Du(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){t=ar(n,t),t=Jd(e,t,1),e=Yt(e,t,1),t=Le(),e!==null&&(us(e,1,t),Ve(e,t));break}}e=e.return}}function Sg(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(Te&n)===n&&(_e===4||_e===3&&(Te&130023424)===Te&&500>fe()-va?wn(t,0):ma|=n),Ve(t,e)}function mf(t,e){e===0&&(t.mode&1?(e=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):e=1);var n=Le();t=Nt(t,e),t!==null&&(us(t,e,n),Ve(t,n))}function kg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mf(t,n)}function Eg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),mf(t,n)}var vf;vf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)Be=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Be=!1,cg(t,e,n);Be=!!(t.flags&131072)}else Be=!1,ie&&e.flags&1048576&&_d(e,ui,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ks(t,e),t=e.pendingProps;var s=sr(e,Re.current);er(e,n),s=ca(null,e,r,t,s,n);var i=da();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(r)?(i=!0,li(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ia(e),s.updater=Ni,e.stateNode=s,s._reactInternals=e,ol(e,r,t,n),e=ul(null,e,r,!0,i,n)):(e.tag=0,ie&&i&&Xl(e),Ne(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ks(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Tg(r),t=ft(r,t),s){case 0:e=al(null,e,r,t,n);break e;case 1:e=Ou(null,e,r,t,n);break e;case 11:e=bu(null,e,r,t,n);break e;case 14:e=xu(null,e,r,ft(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),al(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),Ou(t,e,r,s,n);case 3:e:{if(Zd(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,bd(t,e),fi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ar(Error(C(423)),e),e=ju(t,e,r,n,s);break e}else if(r!==s){s=ar(Error(C(424)),e),e=ju(t,e,r,n,s);break e}else for(Je=Qt(e.stateNode.containerInfo.firstChild),Qe=e,ie=!0,gt=null,n=Cd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),r===s){e=Lt(t,e,n);break e}Ne(t,e,r,n)}e=e.child}return e;case 5:return xd(e),t===null&&rl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Xo(r,s)?o=null:i!==null&&Xo(r,i)&&(e.flags|=32),Xd(t,e),Ne(t,e,o,n),e.child;case 6:return t===null&&rl(e),null;case 13:return ef(t,e,n);case 4:return oa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=or(e,null,r,n):Ne(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),bu(t,e,r,s,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Z(ci,r._currentValue),r._currentValue=o,i!==null)if(yt(i.value,o)){if(i.children===s.children&&!We.current){e=Lt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Rt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),sl(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ne(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,er(e,n),s=at(s),r=r(s),e.flags|=1,Ne(t,e,r,n),e.child;case 14:return r=e.type,s=ft(r,e.pendingProps),s=ft(r.type,s),xu(t,e,r,s,n);case 15:return Qd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ft(r,s),Ks(t,e),e.tag=1,He(r)?(t=!0,li(e)):t=!1,er(e,n),Kd(e,r,s),ol(e,r,s,n),ul(null,e,r,!0,t,n);case 19:return tf(t,e,n);case 22:return Yd(t,e,n)}throw Error(C(156,e.tag))};function yf(t,e){return Hc(t,e)}function Cg(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new Cg(t,e,n,r)}function Sa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tg(t){if(typeof t=="function")return Sa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ml)return 11;if(t===Fl)return 14}return 2}function en(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Sa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zn:return _n(n.children,s,i,e);case zl:o=8,s|=8;break;case Po:return t=it(12,n,e,s|2),t.elementType=Po,t.lanes=i,t;case Ro:return t=it(13,n,e,s),t.elementType=Ro,t.lanes=i,t;case Ao:return t=it(19,n,e,s),t.elementType=Ao,t.lanes=i,t;case xc:return Ui(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tc:o=10;break e;case bc:o=9;break e;case Ml:o=11;break e;case Fl:o=14;break e;case Mt:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=it(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function _n(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function Ui(t,e,n,r){return t=it(22,t,r,e),t.elementType=xc,t.lanes=n,t.stateNode={isHidden:!1},t}function yo(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function wo(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bg(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ka(t,e,n,r,s,i,o,l,a){return t=new bg(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=it(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(i),t}function xg(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wf(t){if(!t)return nn;t=t._reactInternals;e:{if(xn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(He(n))return yd(t,n,e)}return e}function _f(t,e,n,r,s,i,o,l,a){return t=ka(n,r,!0,t,s,i,o,l,a),t.context=wf(null),n=t.current,r=Le(),s=Zt(n),i=Rt(r,s),i.callback=e??null,Yt(n,i,s),t.current.lanes=s,us(t,s,r),Ve(t,r),t}function Di(t,e,n,r){var s=e.current,i=Le(),o=Zt(s);return n=wf(n),e.context===null?e.context=n:e.pendingContext=n,e=Rt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yt(s,e,o),t!==null&&(vt(t,s,o,i),Hs(t,s,o)),o}function _i(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ea(t,e){zu(t,e),(t=t.alternate)&&zu(t,e)}function Og(){return null}var Sf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ca(t){this._internalRoot=t}zi.prototype.render=Ca.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Di(t,e,null,null)};zi.prototype.unmount=Ca.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tn(function(){Di(null,t,null,null)}),e[It]=null}};function zi(t){this._internalRoot=t}zi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bt.length&&e!==0&&e<Bt[n].priority;n++);Bt.splice(n,0,t),n===0&&Zc(t)}};function Ta(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mu(){}function jg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=_i(o);i.call(u)}}var o=_f(e,r,t,0,null,!1,!1,"",Mu);return t._reactRootContainer=o,t[It]=o.current,Yr(t.nodeType===8?t.parentNode:t),Tn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=_i(a);l.call(u)}}var a=ka(t,0,!1,null,null,!1,!1,"",Mu);return t._reactRootContainer=a,t[It]=a.current,Yr(t.nodeType===8?t.parentNode:t),Tn(function(){Di(e,a,n,r)}),a}function Fi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=_i(o);l.call(a)}}Di(e,o,t,s)}else o=jg(n,e,t,s,r);return _i(o)}Jc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Or(e.pendingLanes);n!==0&&(Hl(e,n|1),Ve(e,fe()),!(K&6)&&(ur=fe()+500,on()))}break;case 13:Tn(function(){var r=Nt(t,1);if(r!==null){var s=Le();vt(r,t,1,s)}}),Ea(t,1)}};Vl=function(t){if(t.tag===13){var e=Nt(t,134217728);if(e!==null){var n=Le();vt(e,t,134217728,n)}Ea(t,134217728)}};Qc=function(t){if(t.tag===13){var e=Zt(t),n=Nt(t,e);if(n!==null){var r=Le();vt(n,t,e,r)}Ea(t,e)}};Yc=function(){return Q};Xc=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};Bo=function(t,e,n){switch(e){case"input":if(Lo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ri(r);if(!s)throw Error(C(90));jc(r),Lo(r,s)}}}break;case"textarea":Rc(t,n);break;case"select":e=n.value,e!=null&&Qn(t,!!n.multiple,e,!1)}};Dc=ya;zc=Tn;var Pg={usingClientEntryPoint:!1,Events:[ds,Wn,Ri,$c,Uc,ya]},Cr={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rg={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bc(t),t===null?null:t.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||Og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{xi=As.inject(Rg),Et=As}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pg;Xe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ta(e))throw Error(C(200));return xg(t,e,null,n)};Xe.createRoot=function(t,e){if(!Ta(t))throw Error(C(299));var n=!1,r="",s=Sf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ka(t,1,!1,null,null,n,!1,r,s),t[It]=e.current,Yr(t.nodeType===8?t.parentNode:t),new Ca(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Bc(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return Tn(t)};Xe.hydrate=function(t,e,n){if(!Mi(e))throw Error(C(200));return Fi(null,t,e,!0,n)};Xe.hydrateRoot=function(t,e,n){if(!Ta(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Sf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_f(e,null,t,1,n??null,s,!1,i,o),t[It]=e.current,Yr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zi(e)};Xe.render=function(t,e,n){if(!Mi(e))throw Error(C(200));return Fi(null,t,e,!1,n)};Xe.unmountComponentAtNode=function(t){if(!Mi(t))throw Error(C(40));return t._reactRootContainer?(Tn(function(){Fi(null,null,t,!1,function(){t._reactRootContainer=null,t[It]=null})}),!0):!1};Xe.unstable_batchedUpdates=ya;Xe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mi(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Fi(t,e,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function kf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kf)}catch(t){console.error(t)}}kf(),Sc.exports=Xe;var Ag=Sc.exports,Ef,Fu=Ag;Ef=Fu.createRoot,Fu.hydrateRoot;const Ig="modulepreload",Ng=function(t){return"/"+t},Bu={},hs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Ng(a),a in Bu)return;Bu[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Ig,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Lg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hs(async()=>{const{default:r}=await Promise.resolve().then(()=>pr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ba extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Wu extends ba{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hu extends ba{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vu extends ba{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sl||(Sl={}));var $g=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Ug{constructor(e,{headers:n={},customFetch:r,region:s=Sl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Lg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $g(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:l,signal:a}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:a}).catch(p=>{throw p.name==="AbortError"?p:new Wu(p)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new Hu(m);if(!m.ok)throw new Vu(m);let v=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield m.json():v==="application/octet-stream"?S=yield m.blob():v==="text/event-stream"?S=m:v==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Wu(i)}:{data:null,error:i,response:i instanceof Vu||i instanceof Hu?i.context:void 0}}})}}var Fe={},xa={},Bi={},ps={},Wi={},Hi={},Dg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cr=Dg();const zg=cr.fetch,Cf=cr.fetch.bind(cr),Tf=cr.Headers,Mg=cr.Request,Fg=cr.Response,pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tf,Request:Mg,Response:Fg,default:Cf,fetch:zg},Symbol.toStringTag,{value:"Module"})),Bg=ih(pr);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});let Wg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vi.default=Wg;var bf=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});const Hg=bf(Bg),Vg=bf(Vi);let qg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Hg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let c=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=f:d=JSON.parse(f))}const S=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{c=JSON.parse(S),Array.isArray(c)&&i.status===404&&(d=[],c=null,m=200,y="OK")}catch{i.status===404&&S===""?(m=204,y="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&this.shouldThrowOnError)throw new Vg.default(c)}return{error:c,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Hi.default=qg;var Kg=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});const Gg=Kg(Hi);let Jg=class extends Gg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Wi.default=Jg;var Qg=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const Yg=Qg(Wi);let Xg=class extends Yg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ps.default=Xg;var Zg=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});const Tr=Zg(ps);let em=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new Tr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Tr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Tr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Tr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Tr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Bi.default=em;var xf=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});const tm=xf(Bi),nm=xf(ps);let rm=class Of{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new tm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Of(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(l="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new nm.default({method:l,url:a,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};xa.default=rm;var gr=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const jf=gr(xa);Fe.PostgrestClient=jf.default;const Pf=gr(Bi);Fe.PostgrestQueryBuilder=Pf.default;const Rf=gr(ps);Fe.PostgrestFilterBuilder=Rf.default;const Af=gr(Wi);Fe.PostgrestTransformBuilder=Af.default;const If=gr(Hi);Fe.PostgrestBuilder=If.default;const Nf=gr(Vi);Fe.PostgrestError=Nf.default;var sm=Fe.default={PostgrestClient:jf.default,PostgrestQueryBuilder:Pf.default,PostgrestFilterBuilder:Rf.default,PostgrestTransformBuilder:Af.default,PostgrestBuilder:If.default,PostgrestError:Nf.default};const{PostgrestClient:im,PostgrestQueryBuilder:Fy,PostgrestFilterBuilder:By,PostgrestTransformBuilder:Wy,PostgrestBuilder:Hy,PostgrestError:Vy}=sm;class om{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lm="2.75.1",am=`realtime-js/${lm}`,um="1.0.0",kl=1e4,cm=1e3,dm=100;var Mr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Mr||(Mr={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pt||(pt={}));var El;(function(t){t.websocket="websocket"})(El||(El={}));var hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hn||(hn={}));class fm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Lf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const qu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=hm(o,t,e,s),i),{}):{}},hm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?$f(i,o):Cl(o)},$f=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return vm(e,n)}switch(t){case Y.bool:return pm(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return gm(e);case Y.json:case Y.jsonb:return mm(e);case Y.timestamp:return ym(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Cl(e);default:return Cl(e)}},Cl=t=>t,pm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},vm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>$f(e,l))}return t},ym=t=>typeof t=="string"?t.replace(" ","T"):t,Uf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class _o{constructor(e,n,r={},s=kl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ku;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ku||(Ku={}));class Fr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Fr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(S=>S.presence_ref),m=d.map(S=>S.presence_ref),y=c.filter(S=>m.indexOf(S.presence_ref)<0),v=d.filter(S=>h.indexOf(S.presence_ref)<0);y.length>0&&(l[u]=y),v.length>0&&(a[u]=v)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[l].unshift(...h)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gu||(Gu={}));var Br;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Br||(Br={}));var xt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class Oa{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _o(this,pt.join,this.params,this.timeout),this.rejoinTimer=new Lf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Fr(this),this.broadcastEndpointURL=Uf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Br.PRESENCE]&&this.bindings[Br.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(xt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(xt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(xt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,p=[];for(let f=0;f<S;f++){const g=v[f],{filter:{event:w,schema:T,table:k,filter:E}}=g,j=m&&m[f];if(j&&j.event===w&&j.schema===T&&j.table===k&&j.filter===E)p.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(xt.SUBSCRIBED);return}}).receive("error",m=>{this.state=ye.errored,e==null||e(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ye.joined&&e===Br.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new _o(this,pt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _o(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=pt;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,v,S;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(v=m.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,v,S,p,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,T=(y=m.filter)===null||y===void 0?void 0:y.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(f=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:S,commit_timestamp:p,type:f,errors:g}=y;h=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Oa.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pt.close,{},e)}_onError(e){this._on(pt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=qu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=qu(e.columns,e.old_record)),n}}const So=()=>{},Is={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wm=[1e3,2e3,5e3,1e4],_m=1e4,Sm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class km{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kl,this.transport=null,this.heartbeatIntervalMs=Is.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=So,this.ref=0,this.reconnectTimer=null,this.logger=So,this.conn=null,this.sendBuffer=[],this.serializer=new fm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>hs(async()=>{const{default:l}=await Promise.resolve().then(()=>pr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${El.websocket}`,this.httpEndpoint=Uf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=om.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:um}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Mr.connecting:return hn.Connecting;case Mr.open:return hn.Open;case Mr.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Oa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Is.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Sm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:am};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(pt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Lf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Is.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:kl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Is.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:So,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>wm[d-1]||_m,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ja extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Em extends ja{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tl extends ja{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Cm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Df=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hs(async()=>{const{default:r}=await Promise.resolve().then(()=>pr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Tm=()=>Cm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>pr),void 0)).Response:Response}),bl=t=>{if(Array.isArray(t))return t.map(n=>bl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=bl(r)}),e},bm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var On=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const ko=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xm=(t,e,n)=>On(void 0,void 0,void 0,function*(){const r=yield Tm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Em(ko(s),i,o))}).catch(s=>{e(new Tl(ko(s),s))}):e(new Tl(ko(t),t))}),Om=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(bm(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function gs(t,e,n,r,s,i){return On(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Om(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>xm(a,l,r))})})}function Si(t,e,n,r){return On(this,void 0,void 0,function*(){return gs(t,"GET",e,n,r)})}function St(t,e,n,r,s){return On(this,void 0,void 0,function*(){return gs(t,"POST",e,r,s,n)})}function xl(t,e,n,r,s){return On(this,void 0,void 0,function*(){return gs(t,"PUT",e,r,s,n)})}function jm(t,e,n,r){return On(this,void 0,void 0,function*(){return gs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function zf(t,e,n,r,s){return On(this,void 0,void 0,function*(){return gs(t,"DELETE",e,r,s,n)})}var Pm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Rm{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Pm(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var Am=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})},Mf;class Im{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Mf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Rm(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Am(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}Mf=Symbol.toStringTag;var ze=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Nm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ju={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lm{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Df(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ju),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?xl:St)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ge(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Ju.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield xl(this.fetch,l.toString(),a,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ge(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ja("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}update(e,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ze(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ze(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),a=()=>Si(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Im(a,this.shouldThrowOnError)}info(e){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Si(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:bl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}exists(e){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield jm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r)&&r instanceof Tl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return ze(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}list(e,n,r){return ze(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Nm),n),{prefix:e||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}listV2(e,n){return ze(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield St(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const $m="2.75.1",Um={"X-Client-Info":`storage-js/${$m}`};var Pn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Dm{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Um),n),this.fetch=Df(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Pn(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Pn(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}createBucket(e){return Pn(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Pn(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Pn(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Pn(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}}class zm extends Dm{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Lm(this.url,this.headers,e,this.fetch)}}const Mm="2.75.1";let Pr="";typeof Deno<"u"?Pr="deno":typeof document<"u"?Pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pr="react-native":Pr="node";const Fm={"X-Client-Info":`supabase-js-${Pr}/${Mm}`},Bm={headers:Fm},Wm={schema:"public"},Hm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vm={};var qm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Km=t=>{let e;return t?e=t:typeof fetch>"u"?e=Cf:e=fetch,(...n)=>e(...n)},Gm=()=>typeof Headers>"u"?Tf:Headers,Jm=(t,e,n)=>{const r=Km(n),s=Gm();return(i,o)=>qm(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Qm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function Ym(t){return t.endsWith("/")?t:t+"/"}function Xm(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Qm(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Zm(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ym(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ff="2.75.1",$n=30*1e3,Ol=3,Eo=Ol*$n,ev="http://localhost:9999",tv="supabase.auth.token",nv={"X-Client-Info":`gotrue-js/${Ff}`},jl="X-Supabase-Api-Version",Bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sv=10*60*1e3;class os extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class iv extends os{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ov(t){return L(t)&&t.name==="AuthApiError"}class pn extends os{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ln extends os{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class zt extends ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lv(t){return L(t)&&t.name==="AuthSessionMissingError"}class Rn extends ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends ln{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends ln{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function av(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qu extends ln{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pl extends ln{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Co(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Yu extends ln{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Rl extends ln{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xu=` 	
\r=`.split(""),uv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xu.length;e+=1)t[Xu[e].charCodeAt(0)]=-2;for(let e=0;e<ki.length;e+=1)t[ki[e].charCodeAt(0)]=e;return t})();function Zu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ki[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ki[r]),e.queuedBits-=6}}function Wf(t,e,n){const r=uv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ec(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{fv(o,r,n)};for(let o=0;o<t.length;o+=1)Wf(t.charCodeAt(o),s,i);return e.join("")}function cv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}cv(r,e)}}function fv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function nr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Wf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function hv(t){const e=[];return dv(t,n=>e.push(n)),new Uint8Array(e)}function yn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Zu(s,n,r)),Zu(null,n,r),e.join("")}function pv(t){return Math.round(Date.now()/1e3)+t}function gv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",an={tested:!1,writable:!1},Hf=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function mv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Vf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hs(async()=>{const{default:r}=await Promise.resolve().then(()=>pr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},vv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Un=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},un=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dt=async(t,e)=>{await t.removeItem(e)};class qi{constructor(){this.promise=new qi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}qi.promiseConstructor=Promise;function To(t){const e=t.split(".");if(e.length!==3)throw new Rl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!rv.test(e[r]))throw new Rl("JWT not in base64url format");return{header:JSON.parse(ec(e[0])),payload:JSON.parse(ec(e[1])),signature:nr(e[2]),raw:{header:e[0],payload:e[1]}}}async function yv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function _v(t){return("0"+t.toString(16)).substr(-2)}function Sv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,_v).join("")}async function kv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Ev(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await kv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function An(t,e,n=!1){const r=Sv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Un(t,`${e}-code-verifier`,s);const i=await Ev(r);return[i,r===i?"plain":"s256"]}const Cv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tv(t){const e=t.headers.get(jl);if(!e||!e.match(Cv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ov=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(t){if(!Ov.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tc(t){return JSON.parse(JSON.stringify(t))}var jv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pv=[502,503,504];async function nc(t){var e;if(!vv(t))throw new Pl(fn(t),0);if(Pv.includes(t.status))throw new Pl(fn(t),t.status);let n;try{n=await t.json()}catch(i){throw new pn(fn(i),i)}let r;const s=Tv(t);if(s&&s.getTime()>=Bf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yu(fn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Yu(fn(n),t.status,n.weak_password.reasons);throw new iv(fn(n),t.status||500,r)}const Rv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jl]||(i[jl]=Bf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Av(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Av(t,e,n,r,s,i){const o=Rv(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new Pl(fn(a),0)}if(l.ok||await nc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await nc(a)}}function dt(t){var e;let n=null;Lv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function rc(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ht(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Iv(t){return{data:t,error:null}}function Nv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=jv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function sc(t){return t}function Lv(t){return t.access_token&&t.refresh_token&&t.expires_in}const xo=["global","local","others"];var $v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Uv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Vf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=xo[0]){if(xo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xo.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ht})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=$v(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Nv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ht})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sc});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){In(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ht})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){In(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ht})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){In(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ht})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){In(e.userId);try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){In(e.userId),In(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sc});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}}function ic(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Nn={debug:!!(globalThis&&Hf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dv extends qf{}async function zv(t,e,n){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Mv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Fv(t){return parseInt(t,16)}function Bv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Wv(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:a,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Kf(t.address),y=c?`${c}://${r}`:r,v=t.statement?`${t.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${m}

${v}`;let p=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),a&&(p+=`
Request ID: ${a}`),u){let f=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);f+=`
- ${g}`}p+=f}return`${S}
${p}`}class pe extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ei extends pe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Hv({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Jf(o)){if(i.rp.id!==o)return new pe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Vv({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Jf(r)){if(n.rpId!==r)return new pe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Gf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class qv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Kv=new qv;function Gv(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Gf(t,["challenge","user","excludeCredentials"]),i=nr(e).buffer,o=Object.assign(Object.assign({},n),{id:nr(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const u=r[a];l.excludeCredentials[a]=Object.assign(Object.assign({},u),{id:nr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Jv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Gf(t,["challenge","allowCredentials"]),s=nr(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:nr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Qv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:yn(new Uint8Array(t.response.attestationObject)),clientDataJSON:yn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yn(new Uint8Array(s.authenticatorData)),clientDataJSON:yn(new Uint8Array(s.clientDataJSON)),signature:yn(new Uint8Array(s.signature)),userHandle:s.userHandle?yn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function oc(){var t,e;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Xv(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ei("Browser returned unexpected credential type",e)}:{data:null,error:new Ei("Empty credential response",e)}}catch(e){return{data:null,error:Hv({error:e,options:t})}}}async function Zv(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ei("Browser returned unexpected credential type",e)}:{data:null,error:new Ei("Empty credential response",e)}}catch(e){return{data:null,error:Vv({error:e,options:t})}}}const ey={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ty={userVerification:"preferred",hints:["security-key"]};function Ci(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const l=r[i];e(l)?r[i]=Ci(l,o):r[i]=Ci(o)}else r[i]=o}return r}function ny(t,e){return Ci(ey,t,e||{})}function ry(t,e){return Ci(ty,t,e||{})}class sy{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const a=s??Kv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=ny(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await Xv({publicKey:u,signal:a});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=ry(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await Zv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:a}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new pn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new os("rpId is required for WebAuthn authentication")};try{if(!oc())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:a}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:a.type,rpId:n,rpOrigins:r,credential_response:a.credential_response}})}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new pn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new os("rpId is required for WebAuthn registration")};try{if(!oc())return{data:null,error:new pn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:l};const{data:a,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return a?this._verify({factorId:o.id,challengeId:a.challengeId,webauthn:{rpId:n,rpOrigins:r,type:a.webauthn.type,credential_response:a.webauthn.credential_response}}):{data:null,error:u}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new pn("Unexpected error in register",o)}}}}Mv();const iy={url:ev,storageKey:tv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lc(t,e,n){return await n()}const Ln={};class ls{get jwks(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ls.nextInstanceID,ls.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},iy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Uv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Vf(s.fetch),this.lock=s.lock||lc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zv:this.lock=lc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sy(this)},this.persistSession?(s.storage?this.storage=s.storage:Hf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ic(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ic(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ff}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=mv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),av(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new pn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await An(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:dt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dt})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:rc})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Rn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,l,a,u,c,d,h;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:v,wallet:S,statement:p,options:f}=e;let g;if(Ke())if(typeof S=="object")g=S;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")g=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=S}const w=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href),T=await g.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Kf(T[0]);let E=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const B=await g.request({method:"eth_chainId"});E=Fv(B)}const j={domain:w.host,address:k,statement:p,uri:w.href,version:"1",chainId:E,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=Wv(j),y=await g.request({method:"personal_sign",params:[Bv(m),k]})}try{const{data:v,error:S}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:dt});if(S)throw S;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Rn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:S})}catch(v){if(L(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var n,r,s,i,o,l,a,u,c,d,h,m;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:S,wallet:p,statement:f,options:g}=e;let w;if(Ke())if(typeof p=="object")w=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const T=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),f?{statement:f}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:S,error:p}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:yn(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dt});if(p)throw p;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Rn}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:p})}catch(S){if(L(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await un(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dt});if(await Dt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Rn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Rn}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await An(this.storage,this.storageKey));const{error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ns("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await An(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iv})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new zt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ns("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Eo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await un(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=bo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ht}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ht})})}catch(n){if(L(n))return lv(n)&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new zt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await An(this.storage,this.storageKey));const{data:u,error:c}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ht});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=To(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new zt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ke())throw new Ls("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ls(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qu("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new Ls("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let h=c+d;a&&(h=parseInt(a));const m=h-c;m*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:v,error:S}=await this._getUser(i);if(S)throw S;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(ov(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=gv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await An(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:a,access_token:u,nonce:c}=e,d=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:a,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dt}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Rn}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await wv(async s=>(s>0&&await yv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Co(i)&&Date.now()+o-r<$n})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await un(this.storage,this.storageKey);if(s&&this.userStorage){let o=await un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Un(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:bo()}else if(s&&!s.user&&!s.user){const o=await un(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Dt(this.storage,this.storageKey+"-user"),await Un(this.storage,this.storageKey,s)):s.user=bo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Eo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Eo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Co(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={data:null,error:i};return Co(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Un(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=tc(s);await Un(this.storage,this.storageKey,i)}else{const s=tc(n);await Un(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Dt(this.storage,this.storageKey),await Dt(this.storage,this.storageKey+"-code-verifier"),await Dt(this.storage,this.storageKey+"-user"),this.userStorage&&await Dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$n}ms, refresh threshold is ${Ol} ticks`),s<=Ol&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await An(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:a,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&a.type==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Qv(e.webauthn.credential_response):Yv(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:a}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:a})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Gv(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Jv(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=To(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+sv>s)return r;const{data:i,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=To(r);n!=null&&n.allowExpired||bv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=xv(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,hv(`${l}.${a}`)))throw new Rl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}ls.nextInstanceID=0;const oy=ls;class ly extends oy{constructor(e){super(e)}}var ay=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class uy{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=Zm(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Wm,realtime:Vm,auth:Object.assign(Object.assign({},Hm),{storageKey:a}),global:Bm},c=Xm(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Jm(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new im(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new zm(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ug(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return ay(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ly({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new km(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cy=(t,e,n)=>new uy(t,e,n);function dy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}dy()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ac="https://pqpvyhkkhrgpwkqlpzje.supabase.co",Qf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBxcHZ5aGtraHJncHdrcWxwemplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyMTc4OTksImV4cCI6MjA3NTc5Mzg5OX0.JtSnl64jX2gZlpNsipgrOpfBJbAu2PflOJxfl1LD_zk",X=!!Qf;let Yf=null;console.log("[supabase] hasSupabase =",X);X?(console.log("[supabase] creating client",{url:ac}),Yf=cy(ac,Qf,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:typeof window<"u"?window.localStorage:void 0}}),console.log("[supabase] client created with auth options (persistSession, autoRefreshToken, detectSessionInUrl)")):console.log("[supabase] not configured (set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY)");const Ee=Yf;function Xf(t){const e=((t==null?void 0:t.message)||"").toLowerCase();return e?e.includes("invalid login credentials")?"Incorrect email or password. If you don’t have an account yet, click “Create account”.":e.includes("email not confirmed")||e.includes("confirm your email")?"Please confirm your email address. Check your inbox for a confirmation link, then try again.":e.includes("user already registered")||e.includes("already registered")?"An account already exists for this email. Try signing in instead.":e.includes("password should be at least")||e.includes("password is too short")?"Password is too short. Please use at least 6 characters.":e.includes("rate limit")?"Too many attempts. Please wait a bit and try again.":`Authentication error: ${(t==null?void 0:t.message)||"Please try again."}`:"Authentication error. Please try again."}async function Zf(){var t;if(!X||!Ee)return console.log("[auth] getCurrentUser: Supabase not configured"),null;try{console.log("[auth] getCurrentUser: checking session first");const{data:e,error:n}=await Ee.auth.getSession();n&&console.warn("[auth] getCurrentUser: getSession error:",n.message);const r=((t=e==null?void 0:e.session)==null?void 0:t.user)??null;if(r)return console.log("[auth] getCurrentUser: found user from session",{id:r.id,email:r.email}),r;console.log("[auth] getCurrentUser: session empty; fetching user from API with timeout");const s=5e3,i=new Promise(u=>{setTimeout(()=>{console.warn("[auth] getCurrentUser: timeout after",s,"ms; returning null"),u({data:{user:null},error:null})},s)}),{data:o,error:l}=await Promise.race([Ee.auth.getUser(),i]);if(l)return console.error("[auth] getCurrentUser error:",l.message),null;const a=o!=null&&o.user?{id:o.user.id,email:o.user.email}:null;return console.log("[auth] getCurrentUser: result =",a),(o==null?void 0:o.user)??null}catch(e){return console.error("[auth] getCurrentUser exception:",e),null}}async function fy(t,e){if(!X||!Ee)throw new Error("Supabase is not configured");console.log("[auth] signUp: attempting for",t);try{const{error:n}=await Ee.auth.signUp({email:t,password:e});if(n)throw n;console.log("[auth] signUp: success for",t)}catch(n){const r=Xf(n);throw console.error("[auth] signUp error:",(n==null?void 0:n.message)||n),new Error(r)}}async function hy(t,e){if(!X||!Ee)throw new Error("Supabase is not configured");console.log("[auth] signIn: attempting for",t);try{const{error:n}=await Ee.auth.signInWithPassword({email:t,password:e});if(n)throw n;console.log("[auth] signIn: success for",t)}catch(n){const r=Xf(n);throw console.error("[auth] signIn error:",(n==null?void 0:n.message)||n),new Error(r)}}async function py(){if(!X||!Ee){console.log("[auth] signOut: Supabase not configured; nothing to do");return}console.log("[auth] signOut: attempting");const{error:t}=await Ee.auth.signOut();if(t)throw console.error("[auth] signOut error:",t.message),t;console.log("[auth] signOut: success")}function Pa(t){if(!X||!Ee)return console.log("[auth] onAuthChange: Supabase not configured; returning noop"),()=>{};Zf().then(n=>{console.log("[auth] onAuthChange initial user =",n?{id:n.id,email:n.email}:null),t(n)}).catch(n=>{console.error("[auth] onAuthChange initial fetch error:",n),t(null)});const{data:e}=Ee.auth.onAuthStateChange(async(n,r)=>{console.log("[auth] onAuthStateChange event:",n);const s=(r==null?void 0:r.user)??null;console.log("[auth] onAuthStateChange session user =",s?{id:s.id,email:s.email}:null),t(s)});return()=>{console.log("[auth] onAuthChange: unsubscribing"),e==null||e.subscription.unsubscribe()}}const Ti="completedLessons";async function Ra(){if(X&&Ee)try{const t=await Zf();if(t)return console.log("[progress] Authenticated user id =",t.id),t.id;console.log("[progress] No authenticated user; falling back")}catch(t){console.warn("[progress] getAuthenticatedUserId error; falling back to local:",t)}return null}async function Oo(){if(X&&Ee){const t=await Ra();if(t){console.log("[progress] Loading completed lessons from Supabase for user",t);const{data:e,error:n}=await Ee.from("lesson_progress").select("lesson_id").eq("user_id",t).eq("completed",!0);if(n)throw console.error("[progress] loadCompleted error (Supabase):",n.message),n;const r=(e??[]).map(s=>s.lesson_id);return console.log("[progress] Loaded",r.length,"completed lesson(s) from Supabase"),r}}try{const t=localStorage.getItem(Ti);if(!t)return console.log("[progress] No local completed lessons found"),[];const e=JSON.parse(t),n=Array.isArray(e)?e:[];return console.log("[progress] Loaded",n.length,"completed lesson(s) from local storage"),n}catch(t){return console.warn("[progress] Failed to read local completed lessons:",t),[]}}async function gy(t,e){if(console.log("[progress] setLessonCompleted:",{lessonId:t,isCompleted:e,backend:X?"Supabase":"local"}),X&&Ee){const n=await Ra();if(n){{console.log("[progress] Upserting completed row to Supabase",{userId:n,lessonId:t});const{error:r}=await Ee.from("lesson_progress").upsert({user_id:n,lesson_id:t,completed:!0},{onConflict:"user_id,lesson_id"});if(r)throw console.error("[progress] Upsert error:",r.message),r;console.log("[progress] Upsert success")}return}}try{const n=localStorage.getItem(Ti),r=new Set(n?JSON.parse(n):[]);e&&r.add(t),localStorage.setItem(Ti,JSON.stringify(Array.from(r))),console.log("[progress] Local storage updated. Completed count =",r.size)}catch(n){console.warn("[progress] Failed to update local storage:",n)}}function eh(){return X?"Supabase":"local storage"}async function my(){if(console.log("[progress] resetProgress: starting (backend =",X?"Supabase":"local",")"),X&&Ee){const t=await Ra();if(t){console.log("[progress] resetProgress: deleting all progress rows for user",t);const{error:e}=await Ee.from("lesson_progress").delete().eq("user_id",t);if(e)throw console.error("[progress] resetProgress error (Supabase):",e.message),e;console.log("[progress] resetProgress: Supabase rows deleted"),window.dispatchEvent(new CustomEvent("progress-reset"));return}}try{localStorage.removeItem(Ti),console.log("[progress] resetProgress: local storage key removed")}catch(t){console.warn("[progress] resetProgress: failed to remove local key:",t)}window.dispatchEvent(new CustomEvent("progress-reset"))}function vy(t){const e=t.replace(/^#\/?/,"").trim().toLowerCase();let n="";if(e==="signin")n="signin";else if(e==="account")n="account";else if(e.startsWith("lesson/")){const r=e.slice(7);n=r?`lesson/${r}`:""}else n="";return console.log("[router] normalize:",{input:t,normalized:n}),n}function uc(){return typeof window>"u"?"":vy(window.location.hash||"")}function je(t){if(typeof window>"u")return;const e=t?`#/${t}`:"#/";console.log("[router] navigate ->",e),window.location.hash!==e?window.location.hash=e:window.dispatchEvent(new HashChangeEvent("hashchange"))}function yy(){const[t,e]=x.useState(()=>uc());return x.useEffect(()=>{console.log("[router] useRoute mounted. initial =",t);function n(){const r=uc();console.log("[router] hashchange ->",r),e(r)}return window.addEventListener("hashchange",n),()=>{console.log("[router] useRoute unmounted; removing listener"),window.removeEventListener("hashchange",n)}},[]),[t,je]}function wy(){const[t,e]=x.useState("signin"),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,l]=x.useState(!1),[a,u]=x.useState(null),[c,d]=x.useState(null),[h,m]=x.useState(!1),[y,v]=x.useState(null);x.useEffect(()=>{console.log("[SignIn] mounted");const p=Pa(async f=>{console.log("[SignIn] auth change:",f?{id:f.id,email:f.email}:null),m(!0),v((f==null?void 0:f.email)??null),f&&(console.log("[SignIn] user is signed in; navigating to account"),je("account"))});return()=>{console.log("[SignIn] unmounted; unsubscribing from auth changes");try{p&&p()}catch{}}},[]);async function S(p){if(p.preventDefault(),console.log("[SignIn] submit:",{mode:t,email:n}),!X){u("Supabase is not configured. Provide VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to enable sign-in."),console.warn("[SignIn] submit blocked: Supabase not configured");return}l(!0),u(null),d(null);try{t==="signin"?(await hy(n,s),d("Signed in successfully. Redirecting to your account…"),console.log("[SignIn] sign-in success; navigating to account"),je("account")):(await fy(n,s),d(`Account created. We’ve sent a confirmation email to ${n}. Please confirm your email, then return here to sign in.`),console.log("[SignIn] sign-up success; confirmation email sent (or required). No auto-login expected.")),r(""),i("")}catch(f){console.error("[SignIn] submit error:",(f==null?void 0:f.message)||f),u((f==null?void 0:f.message)||"Unexpected error")}finally{l(!1)}}return _.jsxs("section",{children:[_.jsx("h2",{children:t==="signin"?"Sign in":"Create account"}),!X&&_.jsx("p",{className:"error",children:"Supabase not configured. Progress will be stored locally, but sign-in is disabled."}),a&&_.jsx("p",{className:"error",children:a}),c&&_.jsx("p",{className:"text-muted",children:c}),_.jsx("p",{"aria-live":"polite",className:"text-muted mt-2",children:h?y?`Signed in as ${y}.`:"Not signed in.":"Checking session…"}),t==="signup"&&_.jsx("p",{className:"text-muted",children:"Note: You’ll receive a confirmation email. Please click the link to activate your account before signing in."}),_.jsx("form",{onSubmit:S,className:"lesson mt-3",style:{maxWidth:520},children:_.jsxs("div",{className:"cluster",children:[_.jsx("input",{className:"input",type:"email",placeholder:"email@example.com",value:n,onChange:p=>r(p.target.value),required:!0,disabled:o||!X}),_.jsx("input",{className:"input",type:"password",placeholder:"password",value:s,onChange:p=>i(p.target.value),required:!0,disabled:o||!X}),_.jsx("button",{className:"btn btn-primary",type:"submit",disabled:o||!X,children:o?"Please wait…":t==="signin"?"Sign in":"Sign up"}),_.jsx("button",{className:"btn btn-ghost",type:"button",disabled:o,onClick:()=>{const p=t==="signin"?"signup":"signin";console.log("[SignIn] toggle mode:",t,"->",p),e(p)},children:t==="signin"?"Create account":"Have an account? Sign in"})]})}),_.jsx("div",{className:"mt-3",children:_.jsx("button",{className:"btn",onClick:()=>{console.log("[SignIn] back to lessons"),je("")},children:"Back to lessons"})})]})}function th({open:t,title:e="Please confirm",message:n,confirmLabel:r="Confirm",cancelLabel:s="Cancel",onConfirm:i,onCancel:o}){const l=x.useRef(null);return x.useEffect(()=>{var a;if(t){(a=l.current)==null||a.focus();const u=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=u}}},[t]),t?_.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title",children:_.jsxs("div",{className:"modal",role:"document",children:[_.jsx("div",{className:"modal-header",children:_.jsx("h3",{id:"confirm-title",children:e})}),_.jsx("div",{className:"modal-body",children:_.jsx("p",{children:n})}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{ref:l,className:"btn",onClick:o,children:s}),_.jsx("button",{className:"btn btn-danger",onClick:i,children:r})]})]})}):null}function _y(){const[t,e]=x.useState(null),[n,r]=x.useState(null),[s,i]=x.useState(!0),[o,l]=x.useState(!1),[a,u]=x.useState(null),[c,d]=x.useState(!1);x.useEffect(()=>{console.log("[Account] mounted"),console.log("[Account] progress backend:",eh());const v=Pa(S=>{console.log("[Account] auth change:",S?{id:S.id,email:S.email}:null),e(S),i(!1)});return()=>{console.log("[Account] unmounted; unsubscribing from auth changes");try{v&&v()}catch{}}},[]);async function h(){r(null),console.log("[Account] sign out clicked");try{await py(),console.log("[Account] sign out success; navigating to lessons"),je("")}catch(v){console.error("[Account] sign out error:",(v==null?void 0:v.message)||v),r((v==null?void 0:v.message)||"Failed to sign out")}}function m(){r(null),u(null),d(!0)}async function y(){d(!1),console.log("[Account] reset progress confirmed"),l(!0);try{await my(),console.log("[Account] reset progress success"),u("All progress has been reset.")}catch(v){console.error("[Account] reset progress error:",(v==null?void 0:v.message)||v),r((v==null?void 0:v.message)||"Failed to reset progress")}finally{l(!1)}}return X?s?_.jsxs("section",{className:"account-page",children:[_.jsx("h2",{children:"Account"}),_.jsx("p",{"aria-live":"polite",className:"text-muted",children:"Loading account…"})]}):t?_.jsxs("section",{className:"account-page",children:[_.jsx("h2",{children:"Your account"}),n&&_.jsx("p",{className:"error",children:n}),a&&_.jsx("p",{className:"text-muted","aria-live":"polite",children:a}),_.jsxs("div",{className:"lesson mt-3",style:{maxWidth:600},children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",t.email??"-"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"User ID:"})," ",_.jsx("code",{children:t.id})]}),_.jsxs("div",{className:"mt-3 cluster",children:[_.jsx("button",{className:"btn btn-danger",onClick:m,disabled:o,children:o?"Resetting…":"Reset progress"}),_.jsx("button",{className:"btn btn-secondary",onClick:h,children:"Sign out"}),_.jsx("button",{className:"btn",onClick:()=>{console.log("[Account] back to lessons"),je("")},children:"Back to lessons"})]})]}),_.jsx(th,{open:c,title:"Reset progress",message:"Reset all lesson progress for this account? This cannot be undone.",confirmLabel:"Reset",cancelLabel:"Cancel",onConfirm:y,onCancel:()=>{d(!1),console.log("[Account] reset cancelled")}})]}):_.jsxs("section",{className:"account-page",children:[_.jsx("h2",{children:"Account"}),_.jsx("p",{children:"You are not signed in."}),_.jsxs("div",{className:"cluster mt-2",children:[_.jsx("button",{className:"btn btn-primary",onClick:()=>{console.log("[Account] go to sign in"),je("signin")},children:"Sign in"}),_.jsx("button",{className:"btn",onClick:()=>{console.log("[Account] back to lessons"),je("")},children:"Back to lessons"})]})]}):_.jsxs("section",{className:"account-page",children:[_.jsx("h2",{children:"Account"}),_.jsx("p",{className:"error",children:"Supabase is not configured. Sign-in and account features are disabled."}),_.jsx("button",{className:"btn mt-2",onClick:()=>{console.log("[Account] back to lessons"),je("")},children:"Back to lessons"})]})}function Aa(t,e="classic"){let n=null;function r(){return n||(n=new Worker(new URL(t,import.meta.url),{type:e}),n)}r();function s(){const l=r();return new Promise((a,u)=>{const c=d=>{const h=d.data||{};!h||!h.type||(h.type==="ready"?(l.removeEventListener("message",c),a()):h.type==="init-error"&&(l.removeEventListener("message",c),u(new Error(String(h.message||"Interpreter init failed")))))};l.addEventListener("message",c);try{l.postMessage({type:"warmup"})}catch(d){l.removeEventListener("message",c),u(d)}})}function i(l,a){const u=r(),c=[],d=new Promise(m=>{function y(){u&&u.removeEventListener("message",S)}function v(){y(),m({updates:c})}const S=p=>{const f=p.data||{};!f||!f.type||(f.type==="stdout"||f.type==="stderr"?c.push(f):f.type==="error"?(c.push({type:"error",message:String(f.message||"Execution error")}),v()):f.type==="done"?(c.push({type:"done"}),v()):f.type==="ready"&&c.push({type:"ready"}))};u.addEventListener("message",S),console.log("[Interpreter] run:",l),console.log((a==null?void 0:a.timeoutMs)??2e3,"ms");try{u.postMessage({type:"run",code:l})}catch(p){c.push({type:"error",message:(p==null?void 0:p.message)??"Failed to start execution"}),v()}});function h(){try{u.terminate()}catch{}n=null}return{promise:d,cancel:h}}function o(){if(n){try{n.terminate()}catch{}n=null}}return{run:i,warmup:s,dispose:o}}function Sy(){return Aa("../workers/pythonWorker.js")}function ky(){return Aa("/workers/cWorker.js","classic")}function Ey(){return Aa("../workers/csharpWorker.js")}const $s=`# Python 3 (client-side)
# Type your code here and click Run
print('Hello from Python!')
`,Us=`// C (WASM, client-side)
// Type your code here and click Run
#include <stdio.h>
int main() {
  printf("Hello from C!
");
  return 0;
}
`,Ds=`// C# (WASM, client-side)
// Type your code here and click Run
using System;
public class Program {
  public static void Main() {
    Console.WriteLine("Hello from C#!");
  }
}
`;function Cy({language:t="python",initialCode:e,timeoutMs:n=2e3,storageKey:r,onRunComplete:s,maxLines:i=-1,maxStringLength:o=-1,rightPanel:l}){var he;const[a,u]=x.useState(e??(t==="c"?Us:t==="csharp"?Ds:$s)),[c,d]=x.useState(""),[h,m]=x.useState("idle"),[y,v]=x.useState(null),[S,p]=x.useState(!1),[f,g]=x.useState(!1),w=x.useRef(null),T=x.useRef(null),k=x.useRef(null),E=x.useRef(null),[j,B]=x.useState({left:8,top:6,height:0,visible:!0}),[z,Ae]=x.useState({charWidth:8,lineHeight:21,paddingTop:6,paddingLeft:8,tabSize:4}),[Ie,De]=x.useState(!1),Tt=x.useRef(null);function et(O=160){De(!0),Tt.current&&window.clearTimeout(Tt.current),Tt.current=window.setTimeout(()=>De(!1),O)}const tt=x.useRef(null);function nt(){tt.current!=null&&cancelAnimationFrame(tt.current),tt.current=requestAnimationFrame(()=>{ee(),tt.current=null})}const P=x.useRef(null);function U(){P.current!=null&&cancelAnimationFrame(P.current),P.current=requestAnimationFrame(()=>{const O=k.current;O&&E.current&&(E.current.style.transform=`translateY(-${O.scrollTop}px)`);const b=T.current;b&&O&&(b.scrollTop=O.scrollTop),P.current=null})}x.useEffect(()=>{let O=!1;async function b(){try{if(w.current)try{w.current.dispose()}catch{}let I;t==="c"?I=ky():t==="csharp"?I=Ey():I=Sy(),w.current=I,await I.warmup(),O||m("ready")}catch(I){console.error("[CodeInterpreter] failed to initialize interpreter",I),O||(m("error"),v((I==null?void 0:I.message)??"Failed to initialize interpreter"))}}return b(),()=>{O=!0,w.current&&(w.current.dispose(),w.current=null)}},[t]),x.useEffect(()=>{if(r)try{const O=localStorage.getItem(r);O!=null?u(O):e!=null?u(e):u(t==="c"?Us:t==="csharp"?Ds:$s)}catch{}},[r,t]),x.useEffect(()=>{e==null&&(r||u(t==="c"?Us:t==="csharp"?Ds:$s))},[t,e,r]),x.useEffect(()=>{if(!r)return;const O=setTimeout(()=>{try{localStorage.setItem(r,a)}catch{}},300);return()=>clearTimeout(O)},[a,r]),x.useEffect(()=>{const O=T.current,b=k.current;O&&b&&(O.scrollTop=b.scrollTop),b&&E.current&&(E.current.style.transform=`translateY(-${b.scrollTop}px)`)},[a]);const F=x.useMemo(()=>t==="c"?xy(a):t==="csharp"?Oy(a):by(a),[t,a]);x.useEffect(()=>{function O(){const I=E.current;if(!I)return;const re=getComputedStyle(I),V=(()=>{const ve=re.lineHeight,qe=parseFloat(re.fontSize)||16,mr=parseFloat(ve);return isNaN(mr)?1.5*qe:mr})(),D=I.parentElement,se=D&&parseFloat(getComputedStyle(D).paddingTop||"6")||6,ce=D&&parseFloat(getComputedStyle(D).paddingLeft||"8")||8,q=document.createElement("span");q.textContent="MMMMMMMMMM",q.style.visibility="hidden",q.style.position="absolute",I.appendChild(q);const J=q.getBoundingClientRect().width/10;I.removeChild(q);let G=4;try{const ve=getComputedStyle(I.parentElement).tabSize;if(ve){const qe=parseInt(String(ve),10);!isNaN(qe)&&qe>0&&(G=qe)}}catch{}Ae({charWidth:J||8,lineHeight:V,paddingTop:se,paddingLeft:ce,tabSize:G}),B(ve=>({...ve,height:V}))}O();const b=()=>O();return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);function ee(){const O=k.current;if(!O)return;const b=O.selectionDirection==="backward"?O.selectionStart:O.selectionEnd,{start:I}=N(a,b,b);let re=0;for(let J=0;J<I;J++)a.charCodeAt(J)===10&&re++;let V=0;const D=z.tabSize||4;for(let J=I;J<b;J++)a[J]==="	"?V+=D-V%D:V+=1;const se=O.scrollTop||0,ce=z.paddingLeft+V*z.charWidth,q=z.paddingTop+re*z.lineHeight-se;B(J=>({...J,left:ce,top:q}))}x.useEffect(()=>{nt()},[a]);async function ue(){const O=w.current;if(!O)return;if(o!=null&&o>=0&&Py(a,o)){const D=`String literal exceeds max length of ${o} characters. Please shorten your strings.`;p(!0),m("ready"),d(""),v(D);try{s&&s({output:"",error:D})}catch{}return}p(!0),m("running"),v(null),d("");const{promise:b}=O.run(a,{timeoutMs:n});let I="",re=null;try{for await(const V of Ty(b))V.type==="stdout"?(I+=V.data,d(D=>D+V.data)):V.type==="stderr"?(I+=V.data,d(D=>D+V.data)):V.type==="error"&&(re=V.message,v(V.message));m("ready");try{s&&s({output:I,error:re})}catch{}}catch(V){const D=(V==null?void 0:V.message)??"Execution failed";m("error"),v(D);try{s&&s({output:I,error:D})}catch{}}}function R(O,b,I){const re=k.current;if(re&&typeof re.setRangeText=="function"){const V=re.value.length;try{re.setRangeText(O,0,V,"preserve")}catch{}u(re.value),requestAnimationFrame(()=>{const D=k.current;if(D){try{D.focus({preventScroll:!0})}catch{}try{D.setSelectionRange(b,I)}catch{}E.current&&(E.current.style.transform=`translateY(-${D.scrollTop}px)`)}});return}u(O),setTimeout(()=>{const V=k.current;if(V){V.focus({preventScroll:!0});try{V.setSelectionRange(b,I)}catch{}E.current&&(E.current.style.transform=`translateY(-${V.scrollTop}px)`)}},0)}function N(O,b,I){const re=Math.min(b,I),V=Math.max(b,I);let D=O.lastIndexOf(`
`,re-1);D=D===-1?0:D+1;let se=O.indexOf(`
`,V);return se===-1&&(se=O.length),{start:D,end:se}}async function $(O){try{if(navigator.clipboard&&navigator.clipboard.writeText){await navigator.clipboard.writeText(O);return}}catch{}try{const b=document.createElement("textarea");b.value=O,b.style.position="fixed",b.style.opacity="0",document.body.appendChild(b),b.focus(),b.select(),document.execCommand("copy"),document.body.removeChild(b)}catch{}}function H(O){var V;const b=O.currentTarget,I=O.key,re=O.ctrlKey||O.metaKey;if(De(!1),I==="Enter"&&i!=null&&i>=0&&(((V=a.match(/\n/g))==null?void 0:V.length)??0)+1>=i&&b.selectionStart===b.selectionEnd){O.preventDefault();return}if(O.altKey&&!re&&(I==="ArrowLeft"||I==="ArrowRight")){const D=b.selectionDirection==="backward"?b.selectionStart:b.selectionEnd,{start:se,end:ce}=N(a,D,D);let q=I==="ArrowLeft"?se:ce;if(I==="ArrowLeft"){let G=se;for(;G<ce&&(a[G]===" "||a[G]==="	");)G++;q=G}if(O.preventDefault(),b.selectionStart!==b.selectionEnd){const G=I==="ArrowLeft"?b.selectionEnd:b.selectionStart;b.setSelectionRange(Math.min(G,q),Math.max(G,q))}else{const G=D;b.setSelectionRange(Math.min(G,q),Math.max(G,q))}et();return}if(!re&&O.altKey&&(I==="ArrowLeft"||I==="ArrowRight")){const D=b.selectionDirection==="backward"?b.selectionStart:b.selectionEnd,{start:se,end:ce}=N(a,D,D);let q=D;if(I==="ArrowLeft"){let J=se;for(;J<ce&&(a[J]===" "||a[J]==="	");)J++;q=J}else q=ce;if(O.preventDefault(),O.shiftKey)if((b.selectionDirection||"forward")==="backward")try{b.setSelectionRange(q,b.selectionEnd,"backward")}catch{b.setSelectionRange(q,b.selectionEnd)}else try{b.setSelectionRange(b.selectionStart,q,"forward")}catch{b.setSelectionRange(b.selectionStart,q)}else b.setSelectionRange(q,q);return}if(I==="Tab"&&!O.shiftKey&&!O.altKey&&!re){O.preventDefault();const D=b.selectionStart,se=b.selectionEnd,ce=a.slice(0,D)+"	"+a.slice(se);R(ce,D+1,D+1);return}if(re&&I.toLowerCase()==="s"){O.preventDefault();return}if(re&&I.toLowerCase()==="x"&&b.selectionStart===b.selectionEnd){O.preventDefault();const D=b.selectionStart,{start:se,end:ce}=N(a,D,D);let q=se,J=ce;ce<a.length&&a[ce]===`
`?J=ce+1:se>0&&(q=se-1);const ve=a.slice(se,ce);$(`
`+ve);const qe=a.slice(0,q)+a.slice(J);R(qe,q,q);return}if(re&&I.toLowerCase()==="c"&&b.selectionStart===b.selectionEnd){O.preventDefault();const D=b.selectionStart,{start:se,end:ce}=N(a,D,D),q=a.slice(se,ce);$(`
`+q);return}if(O.altKey&&!re&&(I==="ArrowUp"||I==="ArrowDown")){O.preventDefault();const D=b.selectionStart,se=b.selectionEnd,ce=jy(a),q=b.selectionDirection==="backward"?D:se,J=ce.filter(G=>G.start<=q&&q<=G.end).sort((G,ve)=>G.end-G.start-(ve.end-ve.start));if(J.length===0)return;if(I==="ArrowDown"){const G=J[0];b.setSelectionRange(G.start,G.end),et();return}else{const G=ce.find(ve=>ve.start===D&&ve.end===se);if(G){const ve=J.findIndex(mr=>mr.start===G.start&&mr.end===G.end),qe=J[Math.min(ve+1,J.length-1)];qe&&(qe.start!==G.start||qe.end!==G.end)&&(b.setSelectionRange(qe.start,qe.end),et())}else{const ve=J[J.length-1];b.setSelectionRange(ve.start,ve.end),et()}return}}U(),nt()}return x.useEffect(()=>()=>{tt.current!=null&&cancelAnimationFrame(tt.current),P.current!=null&&cancelAnimationFrame(P.current)},[]),_.jsxs("section",{className:"mt-3 interpreter","aria-label":"Code interpreter",children:[_.jsxs("div",{className:"interpreter-header",children:[_.jsxs("div",{className:"cluster",children:[_.jsx("button",{className:"btn btn-primary",onClick:ue,disabled:h!=="ready",children:"Run"}),_.jsx("button",{className:"btn",onClick:()=>g(!0),disabled:h==="running",children:"Reset"})]}),i!=null&&i>=0&&_.jsxs("div",{className:"ml-auto text-muted","aria-live":"polite",children:["Lines left: ",Math.max(0,i-a.split(`
`).length)]})]}),_.jsxs("div",{className:"code-editor-wrapper",children:[_.jsx("div",{className:"code-gutter",ref:T,"aria-hidden":"true",children:_.jsx("pre",{className:"code-gutter-pre",children:Array.from({length:(((he=a.match(/\n/g))==null?void 0:he.length)??0)+1},(O,b)=>b+1).join(`
`)})}),_.jsxs("div",{className:"code-editor-cell",children:[_.jsx("div",{className:"code-highlight","aria-hidden":"true",children:_.jsx("pre",{className:"code-highlight-pre",ref:E,dangerouslySetInnerHTML:{__html:F}})}),_.jsx("textarea",{className:"input code-editor",ref:k,value:a,onChange:O=>{const b=O.target.value;if(i!=null&&i>=0){const I=b.split(`
`);if(I.length>i){u(I.slice(0,i).join(`
`));return}}u(b)},onKeyDown:H,onKeyUp:()=>{U(),nt()},onClick:()=>{et(),nt()},onInput:()=>{De(!1),U(),nt()},onFocus:()=>B(O=>({...O,visible:!0})),onBlur:()=>B(O=>({...O,visible:!1})),onScroll:O=>{const b=O.target,I=T.current;I&&(I.scrollTop=b.scrollTop),E.current&&(E.current.style.transform=`translateY(-${b.scrollTop}px)`),De(!1),nt()},spellCheck:!1,"aria-label":"Code editor"}),_.jsx("div",{className:"code-caret",style:{left:j.left,top:j.top,height:j.height,display:j.visible?"block":"none",transition:Ie?"top 90ms ease-out, left 90ms ease-out":"none"},"aria-hidden":"true"})]})]}),S&&_.jsx("div",{className:"interpreter-footer","aria-live":"polite",children:_.jsxs("div",{className:"interpreter-footer-row",children:[_.jsxs("div",{className:"console",children:[_.jsxs("div",{className:"console-header",children:[_.jsx("strong",{children:"Output"}),_.jsx("button",{className:"btn btn-ghost",onClick:()=>p(!1),"aria-label":"Close output",children:"Close"})]}),_.jsx("div",{className:"console-body",children:_.jsx("pre",{className:"console-pre",children:y||(c&&c.length?c:"[No output]")})})]}),l?_.jsx("aside",{className:"interpreter-side-panel","aria-label":"Result panel",children:l}):null]})}),_.jsx(th,{open:f,title:"Reset code?",message:"This will replace your code with the starter code for this exercise. This action cannot be undone.",confirmLabel:"Reset",cancelLabel:"Cancel",onCancel:()=>g(!1),onConfirm:()=>{var b,I;u(e??(t==="c"?Us:t==="csharp"?Ds:$s));try{r&&localStorage.removeItem(r)}catch{}d(""),v(null),p(!1),g(!1);try{(I=(b=k.current)==null?void 0:b.focus)==null||I.call(b,{preventScroll:!0})}catch{}}})]})}async function*Ty(t){const e=await t;for(const n of e.updates)yield n}function by(t){const e=new Set(["False","None","True","and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield"]),n=new Set(["abs","all","any","ascii","bin","bool","bytearray","bytes","callable","chr","classmethod","compile","complex","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"]);let r=0;const s=[];function i(a){return a.replace(/[&<>]/g,u=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[u])}function o(a,u){s.push(a?`<span class="tok-${a}">`+i(u)+"</span>":i(u))}const l=t.length;for(;r<l;){const a=t[r];if(a==="#"){let u=r;for(;u<l&&t[u]!==`
`;)u++;o("comm",t.slice(r,u)),r=u;continue}if((a==='"'||a==="'")&&r+2<l&&t[r+1]===a&&t[r+2]===a){const u=a+a+a;let c=r+3;for(;c<l&&t.slice(c,c+3)!==u;)c++;c=Math.min(l,c+(c<l?3:0)),o("str",t.slice(r,c)),r=c;continue}if(a==='"'||a==="'"){const u=a;let c=r+1;for(;c<l;){const d=t[c];if(d==="\\"){c+=2;continue}if(d===u){c++;break}c++}o("str",t.slice(r,c)),r=c;continue}if(/[0-9]/.test(a)){let u=r;for(;u<l&&/[0-9_]/.test(t[u]);)u++;if(u<l&&t[u]===".")for(u++;u<l&&/[0-9_]/.test(t[u]);)u++;o("num",t.slice(r,u)),r=u;continue}if(/[A-Za-z_]/.test(a)){let u=r;for(;u<l&&/[A-Za-z0-9_]/.test(t[u]);)u++;const c=t.slice(r,u);e.has(c)?o("kw",c):n.has(c)?o("builtin",c):s.push(i(c)),r=u;continue}s.push(i(a)),r++}return s.join("")}function nh(t,e=[]){const n=["int","float","double","char","void","short","long","signed","unsigned","const","volatile","static","extern","struct","union","enum","typedef","sizeof","if","else","for","while","do","switch","case","default","break","continue","return","goto","include","define"],r=new Set([...n,...e]),s=[];let i=0;function o(u){return u.replace(/[&<>]/g,c=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[c])}function l(u,c){s.push(u?`<span class="tok-${u}">`+o(c)+"</span>":o(c))}const a=t.length;for(;i<a;){const u=t[i];if(u==="/"&&i+1<a&&t[i+1]==="/"){let c=i;for(;c<a&&t[c]!==`
`;)c++;l("comm",t.slice(i,c)),i=c;continue}if(u==="/"&&i+1<a&&t[i+1]==="*"){let c=i+2;for(;c+1<a&&!(t[c]==="*"&&t[c+1]==="/");)c++;c=Math.min(a,c+(c+1<a?2:0)),l("comm",t.slice(i,c)),i=c;continue}if(u==='"'||u==="'"){const c=u;let d=i+1;for(;d<a;){const h=t[d];if(h==="\\"){d+=2;continue}if(h===c){d++;break}d++}l("str",t.slice(i,d)),i=d;continue}if(/[0-9]/.test(u)){let c=i;for(;c<a&&/[0-9xXa-fA-F_\.]/.test(t[c]);)c++;l("num",t.slice(i,c)),i=c;continue}if(/[A-Za-z_]/.test(u)){let c=i;for(;c<a&&/[A-Za-z0-9_]/.test(t[c]);)c++;const d=t.slice(i,c);r.has(d)?l("kw",d):l(null,d),i=c;continue}l(null,u),i++}return s.join("")}function xy(t){return nh(t)}function Oy(t){return nh(t,["using","namespace","class","struct","interface","public","private","protected","internal","static","readonly","sealed","new","override","virtual","abstract","partial","async","await","var","bool","byte","sbyte","short","ushort","int","uint","long","ulong","string","object","decimal","double","float","char","void","null","true","false","try","catch","finally","throw","lock","event","delegate","get","set","add","remove","switch","case","default","break","continue","return","if","else","for","foreach","while","do"])}function jy(t){const e=[],n=[],r=new Set(["(","[","{"]),s={")":"(","]":"[","}":"{"};for(let a=0;a<t.length;a++){const u=t[a];if(r.has(u))n.push({ch:u,idx:a});else if(u===")"||u==="]"||u==="}"){const c=s[u];for(let d=n.length-1;d>=0;d--)if(n[d].ch===c){const h=n[d].idx;n.splice(d,1);const m=h+1,y=a;y>=m&&e.push({start:m,end:y,kind:"bracket"});break}}}const i=t.split(`
`);let o=0;const l=[];for(const a of i){const u=o,c=u+a.length;let d=0;for(;d<a.length&&(a[d]===" "||a[d]==="	");)d++;const h=d,m=a.trim();l.push({start:u,end:c,indent:h,trimmed:m}),o=c+1}for(let a=0;a<l.length-1;a++){const u=l[a],c=l[a+1];if(!u.trimmed.endsWith(":")||c.indent<=u.indent)continue;let d=a+1,h=d;for(;d<l.length;d++){const v=l[d];if(v.indent<=u.indent&&v.trimmed.length>0||((v.indent>u.indent||v.trimmed.length===0)&&(h=d),v.indent<=u.indent&&v.trimmed.length===0))break}const m=l[a+1].start,y=l[h].end;y>m&&e.push({start:m,end:y,kind:"indent"})}return e}function Py(t,e){if(e<0)return!1;const n=/("""[\s\S]*?"""|'''[\s\S]*?''')/g;let r;for(;(r=n.exec(t))!=null;){const i=r[0];if(i.slice(3,Math.max(3,i.length-3)).length>e)return!0}const s=/("(?:[^"\\]|\\[\s\S])*"|'(?:[^'\\]|\\[\s\S])*')/g;for(;(r=s.exec(t))!=null;){const i=r[0];if(i.slice(1,Math.max(1,i.length-1)).length>e)return!0}return!1}function Ry(t){const e=t&&typeof t.title=="string"?t.title:"Untitled Lesson",n=t==null?void 0:t.content;let r=[];return Array.isArray(n)?r=n:typeof n=="string"?r=[{type:"text",text:n}]:n==null&&(r=[]),{title:e,content:r}}function Ay({element:t,onAnswered:e}){const[n,r]=x.useState(null),[s,i]=x.useState(!1),o=x.useMemo(()=>{var u;return((u=t.options.find(c=>c.correct))==null?void 0:u.id)??null},[t]),l=n!=null;function a(u){if(!s){r(u),i(!0);try{e&&e(u===o)}catch{}}}return _.jsxs("section",{className:"quiz mcq mt-2",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Quiz:"})," ",t.question]}),_.jsx("div",{className:"choice-list",role:"group","aria-label":"Multiple choice options",children:t.options.map(u=>{const c=n===u.id,d="btn choice-button"+(s&&c?u.id===o?" is-correct":" is-incorrect":"");return _.jsx("button",{type:"button",className:d,onClick:()=>a(u.id),disabled:s,"aria-pressed":c,children:u.text},u.id)})}),l&&t.explanation&&_.jsx("p",{className:"mt-1",children:t.explanation})]})}function Iy({idx:t,element:e,lessonId:n,onSolved:r}){const[s,i]=x.useState(!1),[o,l]=x.useState(!1),a=e.desiredOutput;return _.jsxs("section",{className:"quiz code-quiz mt-2",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Code challenge:"})," ",e.prompt]}),_.jsx(Cy,{language:e.language??"python",initialCode:e.starterCode,storageKey:`code-quiz:${n??"unknown"}:${t}:${e.language??"python"}`,maxLines:e.maxLines??-1,maxStringLength:e.maxStringLength??-1,onRunComplete:({output:u,error:c})=>{if(i(!0),a!=null){const d=m=>(m??"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).trimEnd(),h=!c&&d(u)===d(a);if(l(h),h)try{r&&r()}catch{}}},rightPanel:s&&a!=null?o?_.jsx("p",{className:"text-success mt-1",children:"Correct"}):_.jsxs("p",{className:"text-danger mt-1",children:["Incorrect. Expected output: ",_.jsx("code",{children:a})]}):null})]})}function Ny(){const[t,e]=x.useState([]),[n,r]=x.useState(!0),[s,i]=x.useState(null),[o,l]=x.useState(null),[a,u]=x.useState(null),[c,d]=x.useState(!1),[h,m]=x.useState(null),[y,v]=x.useState(0),[S,p]=x.useState(new Set),[f,g]=x.useState(new Set),w=x.useRef([]),T=x.useRef(0),[k,E]=x.useState(!1),[j,B]=x.useState(new Set),[z,Ae]=x.useState(null),[Ie]=yy(),De=Ie.startsWith("lesson/"),Tt=De?Ie.slice(7):null;x.useEffect(()=>{l(Tt)},[Tt]);const et=!X||!!z;x.useEffect(()=>{console.log("[App] route changed:",Ie)},[Ie]),x.useEffect(()=>{console.log("[App] progress backend:",eh())},[]),x.useEffect(()=>{let R=!1;async function N(){console.log("[App] loading initial completed progress");try{const $=await Oo();R||(console.log("[App] initial progress loaded:",$.length,"items"),B(new Set($)))}catch($){console.warn("[App] failed to load initial progress:",$)}}return N(),()=>{R=!0}},[]),x.useEffect(()=>{function R(){console.log("[App] progress-reset event received; reloading progress"),(async()=>{try{const N=await Oo();B(new Set(N))}catch(N){console.warn("[App] failed to reload progress after reset:",N)}})()}return window.addEventListener("progress-reset",R),()=>{window.removeEventListener("progress-reset",R)}},[]),x.useEffect(()=>{if(!X)return;console.log("[App] subscribing to auth changes");const R=Pa(N=>{console.log("[App] auth changed:",N?{id:N.id,email:N.email}:null),Ae(N),(async()=>{try{console.log("[App] reloading progress after auth change");const $=await Oo();console.log("[App] progress reloaded:",$.length),B(new Set($))}catch($){console.warn("[App] failed to reload progress after auth change:",$)}})()});return()=>{console.log("[App] unsubscribing from auth changes");try{R&&R()}catch{}}},[]),x.useEffect(()=>{let R=!1;async function N(){console.log("[App] fetching lessons manifest"),r(!0),i(null);try{const $=await fetch("/lessons/manifest.json",{cache:"no-store"});if(!$.ok)throw new Error(`HTTP ${$.status}`);const H=await $.json();R||(console.log("[App] manifest loaded with",H.length,"items"),e(H))}catch($){console.error("[App] manifest load error:",($==null?void 0:$.message)||$),R||i(($==null?void 0:$.message)??"Failed to load lessons")}finally{R||r(!1),console.log("[App] manifest load finished")}}return N(),()=>{R=!0}},[]),x.useEffect(()=>{if(!o)return;const R=t.find(H=>H.id===o);if(!R)return;let N=!1;async function $(){console.log("[App] loading lesson",{id:o,file:R==null?void 0:R.file}),d(!0),m(null);try{const H=await fetch(`/lessons/${R==null?void 0:R.file}`,{cache:"no-store"});if(!H.ok)throw new Error(`HTTP ${H.status}`);const he=await H.json(),O=Ry(he);N||(console.log("[App] lesson loaded:",{id:o,title:O.title}),u(O))}catch(H){console.error("[App] lesson load error:",(H==null?void 0:H.message)||H),N||m((H==null?void 0:H.message)??"Failed to load lesson")}finally{N||d(!1),console.log("[App] lesson load finished",{id:o})}}return $(),()=>{N=!0}},[o,t]),x.useEffect(()=>{if(!a){v(0),p(new Set),g(new Set),w.current=[],T.current=0;return}const R=a.content&&a.content.length>0?1:0;v(R),p(new Set),g(new Set),w.current=[],T.current=R},[a]),x.useEffect(()=>{if(a){if(y>T.current){const R=y-1,N=w.current[R];if(N&&typeof N.scrollIntoView=="function")try{N.scrollIntoView({behavior:"smooth",block:"start"})}catch{try{N.scrollIntoView(!0)}catch{}}}T.current=y}},[y,a]);const tt=t.length,nt=x.useMemo(()=>{if(t.length===0)return 0;let R=0;for(const N of t)j.has(N.id)&&R++;return R},[t,j]),P=x.useMemo(()=>{const R=new Map;return t.forEach((N,$)=>R.set(N.id,$)),R},[t]),U=x.useMemo(()=>{let R=0;for(;R<t.length&&j.has(t[R].id);R++);return R},[t,j]),F=o?P.get(o)??-1:-1,ee=F>U;x.useEffect(()=>{},[ee,U,t,F,o]);async function ue(){if(o){if(!et)if(X){je("signin");return}else{je("");return}E(!0),B(R=>{const N=new Set(R);return N.add(o),N});try{await gy(o,!0)}catch(R){B(N=>{const $=new Set(N);return $.delete(o),$}),console.error("[App] Failed to persist progress on finish",R),E(!1);return}E(!1),je("")}}return _.jsx("div",{className:"container",children:_.jsxs("main",{className:"content",children:[_.jsx("header",{children:_.jsxs("div",{className:"header-bar",children:[_.jsx("h1",{className:"mb-2",children:"Coding Lessons"}),_.jsxs("div",{className:"ml-auto cluster",children:[_.jsx("button",{className:"btn",onClick:()=>je(""),children:"Lessons"}),!X&&_.jsx("small",{className:"text-danger",children:"Supabase not configured. Progress will be stored locally."}),X&&(z?_.jsx("button",{className:"btn btn-secondary",onClick:()=>je("account"),children:"Account"}):_.jsx("button",{className:"btn btn-primary",onClick:()=>je("signin"),children:"Sign in"}))]})]})}),Ie==="signin"&&_.jsx(wy,{}),Ie==="account"&&_.jsx(_y,{}),Ie===""&&_.jsxs("section",{children:[_.jsx("h2",{className:"mt-3",children:"Lessons"}),_.jsxs("p",{className:"text-muted",children:["Progress: ",nt,"/",tt]}),n&&_.jsx("p",{children:"Loading lessons…"}),s&&_.jsxs("p",{className:"error",children:["Error: ",s]}),!n&&!s&&_.jsx("ul",{className:"nav-list",children:t.map((R,N)=>{const $=N>U||!et;return _.jsx("li",{className:"nav-item",children:_.jsxs("button",{onClick:()=>{console.log("[App] open lesson",R.id),je(`lesson/${R.id}`)},className:"nav-button",disabled:$,"aria-disabled":$,title:$?et?"Complete previous lessons to unlock":"Sign in to access lessons":void 0,children:[_.jsx("strong",{children:R.title})," ",$&&_.jsx("span",{className:"text-muted",children:"- Locked"}),!$&&j.has(R.id)&&_.jsx("span",{className:"text-muted",children:" - Completed"})]})},R.id)})}),X&&!et&&_.jsx("p",{className:"text-muted mt-2",children:"Sign in to access and complete lessons."})]}),De&&_.jsxs(_.Fragment,{children:[c&&!a&&_.jsx("p",{children:"Loading lesson…"}),h&&_.jsxs("p",{className:"error",children:["Error: ",h]}),!c&&!h&&a&&_.jsxs("article",{className:"lesson",children:[_.jsx("h2",{children:a.title}),_.jsx("section",{className:"lesson-content",children:a.content.slice(0,y).map((R,N)=>{let $=null;if(R.type==="text")$=_.jsx("p",{dangerouslySetInnerHTML:{__html:Ly(R.text)}});else if(R.type==="multiple-choice-quiz")$=_.jsx(Ay,{element:R,onAnswered:()=>p(H=>{const he=new Set(H);return he.add(N),he})});else if(R.type==="code-quiz"){const H=R;$=_.jsx(Iy,{idx:N,element:H,lessonId:o,onSolved:()=>g(he=>{const O=new Set(he);return O.add(N),O})})}return _.jsx("div",{ref:H=>{w.current[N]=H},className:"lesson-el fade-in",children:$},N)})}),(()=>{const R=y-1,N=a.content.length;if(y>=N){const he=N-1,O=a.content[he];let b=!0;return O&&O.type==="code-quiz"&&(b=O.desiredOutput?f.has(he):!0),b?_.jsx("div",{className:"mt-2",children:_.jsx("button",{className:"btn btn-primary",onClick:ue,disabled:k,children:k?"Finishing…":"Finish"})}):null}const $=a.content[R];let H=!0;return $&&($.type==="multiple-choice-quiz"?H=S.has(R):$.type==="code-quiz"&&(H=$.desiredOutput?f.has(R):!0)),H?_.jsx("div",{className:"mt-2",children:_.jsx("button",{className:"btn btn-primary",onClick:()=>v(he=>Math.min(N,he+1)),children:"Continue"})}):null})()]})]}),_.jsx("footer",{className:"mt-4"})]})})}function Ly(t){if(typeof t!="string"||t.length===0)return"";const e=s=>s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return t.split(/(`[^`]*`)/g).map(s=>{if(s.startsWith("`")&&s.endsWith("`")){const i=s.slice(1,-1);return"<code>"+e(i)+"</code>"}else{let i=e(s);return i=i.replace(/\*([^*\n]+)\*/g,"<em>$1</em>"),i}}).join("")}console.log("[main] Bootstrapping React app");const rh=document.getElementById("root");console.log("[main] Found root container:",!!rh);Ef(rh).render(_.jsx(Sh.StrictMode,{children:_.jsx(Ny,{})}));
